import{Q as w,a as h}from"./QCard-C13pEHZe.js";import{Q as _}from"./QBtn-CEZhcsOa.js";import{Q as R}from"./QItem-CKSxUczh.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as d,K as r,V as x,R as s,T as C,U as V,O as a,L as i,r as g,e as M,o as b,J as Q,W as y,X as B}from"./index-Di_K6kz9.js";import"./QIcon-D0ifGlgh.js";import"./use-dark-CuLf6Geb.js";const N={setup(){const I=g([{date:"19-02-2025",value:4,reason:"Very calm neighbourhood, not a lot of people, no constructions nearby.",lat:52.477956,long:4.79707},{date:"18-02-2025",value:2,reason:"Lot of constructions nearby, can't relax.",lat:52.277956,long:4.99707},{date:"17-02-2025",value:1,reason:"I just hate life.",lat:52.377956,long:4.99707},{date:"17-02-2025",value:3,reason:"meh.",lat:52.377956,long:4.89707}]),n=[M("response")];console.log(n[0]._rawValue);const e=(localStorage.getItem("response")?JSON.parse(localStorage.getItem("response")):[])._rawValue;console.log(e);const m=g(""),p=g([]);b(()=>{m.value=Number(localStorage.getItem("loggedInId")),setTimeout(()=>{o()},1)});function o(){if(window.google&&window.google.maps){l();return}const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY",t.async=!0,t.defer=!0,t.onload=l,document.head.appendChild(t)}function l(){p.value.forEach((t,f)=>{const c=e[f],L=new window.google.maps.Map(t,{center:{lat:c.latitude,lng:c.longitude},zoom:14,mapTypeControl:!1,zoomControl:!1,streetViewControl:!1,fullscreenControl:!1});new window.google.maps.Marker({position:{lat:c.latitude,lng:c.longitude},map:L,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:"#2C6E49",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"}})})}function u(t){return["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_satisfied"][t-1]||""}function k(t){return["red","orange","green","green-9"][t-1]||""}const v=g(!0);return b(()=>{v.value=localStorage.getItem("isLoggedIn")==="true"}),{ratings:I,responses:e,mapElements:p,getRatingIcon:u,getRatingColor:k,isLoggedIn:v,loggedInId:m}}},q={key:0,class:"text-primary text-center q-pa-md flex flex-center w-100"},O={class:"rate-details"},P={class:"rate-date"},j={class:"rate"},z={class:"rate-reason"},T={key:1,class:"text-primary text-center q-pa-md flex flex-center w-100"};function D(I,n,S,e,m,p){return r(),d(C,null,[e.isLoggedIn?(r(),d("div",q,[n[0]||(n[0]=s("div",{class:"text-h6"},"My ratings",-1)),(r(!0),d(C,null,V(e.responses.filter(o=>o.userId===e.loggedInId),(o,l)=>(r(),Q(w,{key:l,class:"myratings-card"},{default:i(()=>[a(h,{class:"myratings-card-inner"},{default:i(()=>[s("div",{class:"map-elem",ref_for:!0,ref:u=>e.mapElements[l]=u},null,512),s("div",O,[s("div",P," Rating ID: "+y(o.id),1),s("div",j,[s("span",{class:"material-icons",style:B({color:e.getRatingColor(o.stress_level)})},y(e.getRatingIcon(o.stress_level)),5)]),s("div",z,y(o.comment),1)])]),_:2},1024)]),_:2},1024))),128))])):x("",!0),e.isLoggedIn?x("",!0):(r(),d("div",T,[a(w,null,{default:i(()=>[a(h,null,{default:i(()=>[n[1]||(n[1]=s("div",{class:"text-h7"},"Please sign up or log in to be able to rate your location.",-1)),a(R,{class:"q-gutter-sm w-100"},{default:i(()=>[a(_,{label:"Login",color:"primary",class:"col-6",to:"/profile"}),a(_,{label:"Signup",color:"secondary",outline:"",class:"col-6",to:"./signup"})]),_:1})]),_:1})]),_:1}),a(_,{class:"q-mt-xl text-primary",unelevated:"",to:"/",label:"Go Home","no-caps":""})]))],64)}const F=E(N,[["render",D]]);export{F as default};
