import{u as al,a as Et,c as ol,d as il,r as Ot,e as Ql,f as ul,n as Pt,g as _t,h as Wl,b as Ue}from"./use-key-composition-BR2xiwEN.js";import{c as Ze,g as Ve,r as T,L as nt,M as Nt,d as ye,N as Bt,w as ie,o as At,b as qe,O as jl,l as Mt,P as $t,v as Ul,Q as Gl,h as V,T as Xl,a as r,p as rl,R as Ft,S as sl,U as Vt,V as Me,m as Zl,W as Jl,q as Yl,n as en,X as tn,Y as ln,Z as et,_ as Qe,$ as nn,a0 as an,a1 as bt,G as tt,y as We,J as St,E as we,D as Se,z as je,H as Kt,I as on,F as un,x as rn,a2 as sn,K as yt}from"./index-DMOxe-wZ.js";import{h as cl,Q as cn,b as dn,c as fn}from"./QIcon-tDPcdyky.js";import{Q as vn}from"./QChip-C_xFfCnq.js";import{Q as dl}from"./QItem-D7okHdtL.js";import{Q as mn}from"./QItemSection-CabQOIp8.js";import{Q as fl}from"./QItemLabel-VDPUUSph.js";import{l as gn,k as hn,u as vl,s as bn,e as ml,f as gl,h as hl,g as Sn,i as yn,j as pn,T as wn}from"./use-timeout-Bc5wjuBK.js";import{u as bl,a as Sl,b as yl,c as Cn,d as kn,e as xn}from"./private.use-form-C3OeW-Ko.js";import{g as pt,v as An,c as pl,Q as wt}from"./QBtn-B0w2kdw2.js";import{Q as Qt,a as Wt}from"./QCard-DBAAz4X1.js";import{_ as Mn}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Vn=Ze({name:"QField",inheritAttrs:!1,props:{...Et,tag:{type:String,default:"label"}},emits:al,setup(){return ol(il({tagProp:!0}))}}),qn={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Tn={...qn,contextMenu:Boolean};function En({showing:e,avoidEmit:a,configureAnchorEl:o}){const{props:n,proxy:l,emit:u}=Ve(),s=T(null);let f=null;function g(v){return s.value===null?!1:v===void 0||v.touches===void 0||v.touches.length<=1}const S={};o===void 0&&(Object.assign(S,{hide(v){l.hide(v)},toggle(v){l.toggle(v),v.qAnchorHandled=!0},toggleKey(v){Bt(v,13)===!0&&S.toggle(v)},contextClick(v){l.hide(v),nt(v),ye(()=>{l.show(v),v.qAnchorHandled=!0})},prevent:nt,mobileTouch(v){if(S.mobileCleanup(v),g(v)!==!0)return;l.hide(v),s.value.classList.add("non-selectable");const C=v.target;Nt(S,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,l.show(v),v.qAnchorHandled=!0},300)},mobileCleanup(v){s.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&v!==void 0&&gn()}}),o=function(v=n.contextMenu){if(n.noParentEvent===!0||s.value===null)return;let C;v===!0?l.$q.platform.is.mobile===!0?C=[[s.value,"touchstart","mobileTouch","passive"]]:C=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:C=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],Nt(S,"anchor",C)});function d(){jl(S,"anchor")}function k(v){for(s.value=v;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;o()}function A(){if(n.target===!1||n.target===""||l.$el.parentNode===null)s.value=null;else if(n.target===!0)k(l.$el.parentNode);else{let v=n.target;if(typeof n.target=="string")try{v=document.querySelector(n.target)}catch{v=void 0}v!=null?(s.value=v.$el||v,o()):(s.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return ie(()=>n.contextMenu,v=>{s.value!==null&&(d(),o(v))}),ie(()=>n.target,()=>{s.value!==null&&d(),A()}),ie(()=>n.noParentEvent,v=>{s.value!==null&&(v===!0?d():o())}),At(()=>{A(),a!==!0&&n.modelValue===!0&&s.value===null&&u("update:modelValue",!1)}),qe(()=>{f!==null&&clearTimeout(f),d()}),{anchorEl:s,canShow:g,anchorEvents:S}}function Bn(e,a){const o=T(null);let n;function l(f,g){const S=`${g!==void 0?"add":"remove"}EventListener`,d=g!==void 0?g:n;f!==window&&f[S]("scroll",d,Mt.passive),window[S]("scroll",d,Mt.passive),n=g}function u(){o.value!==null&&(l(o.value),o.value=null)}const s=ie(()=>e.noParentEvent,()=>{o.value!==null&&(u(),a())});return qe(s),{localScrollTarget:o,unconfigureScrollTarget:u,changeScrollEvent:l}}let Fn=1,Ln=document.body;function In(e,a){const o=document.createElement("div");if(o.id=a!==void 0?`q-portal--${a}--${Fn++}`:e,$t.globalNodes!==void 0){const n=$t.globalNodes.class;n!==void 0&&(o.className=n)}return Ln.appendChild(o),o}function zn(e){e.remove()}const at=[];function Hn(e,a){do{if(e.$options.name==="QMenu"){if(e.hide(a),e.$props.separateClosePopup===!0)return pt(e)}else if(e.__qPortal===!0){const o=pt(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(a),o):e}e=pt(e)}while(e!=null)}const Rn=Ze({name:"QPortal",setup(e,{slots:a}){return()=>a.default()}});function Dn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function wl(e,a,o,n){const l=T(!1),u=T(!1);let s=null;const f={},g=n==="dialog"&&Dn(e);function S(k){if(k===!0){Ot(f),u.value=!0;return}u.value=!1,l.value===!1&&(g===!1&&s===null&&(s=In(!1,n)),l.value=!0,at.push(e.proxy),Ql(f))}function d(k){if(u.value=!1,k!==!0)return;Ot(f),l.value=!1;const A=at.indexOf(e.proxy);A!==-1&&at.splice(A,1),s!==null&&(zn(s),s=null)}return Ul(()=>{d(!0)}),e.proxy.__qPortal=!0,Gl(e.proxy,"contentEl",()=>a.value),{showPortal:S,hidePortal:d,portalIsActive:l,portalIsAccessible:u,renderPortal:()=>g===!0?o():l.value===!0?[V(Xl,{to:s},V(Rn,o))]:void 0}}const Cl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function kl(e,a=()=>{},o=()=>{}){return{transitionProps:r(()=>{const n=`q-transition--${e.transitionShow||a()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:r(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function xl(){let e;const a=Ve();function o(){e=void 0}return rl(o),qe(o),{removeTick:o,registerTick(n){e=n,ye(()=>{e===n&&(An(a)===!1&&e(),e=void 0)})}}}const Ie=[];let Xe;function On(e){Xe=e.keyCode===27}function Pn(){Xe===!0&&(Xe=!1)}function _n(e){Xe===!0&&(Xe=!1,Bt(e,27)===!0&&Ie[Ie.length-1](e))}function Al(e){window[e]("keydown",On),window[e]("blur",Pn),window[e]("keyup",_n),Xe=!1}function Ml(e){Ft.is.desktop===!0&&(Ie.push(e),Ie.length===1&&Al("addEventListener"))}function ct(e){const a=Ie.indexOf(e);a!==-1&&(Ie.splice(a,1),Ie.length===0&&Al("removeEventListener"))}const ze=[];function Vl(e){ze[ze.length-1](e)}function ql(e){Ft.is.desktop===!0&&(ze.push(e),ze.length===1&&document.body.addEventListener("focusin",Vl))}function qt(e){const a=ze.indexOf(e);a!==-1&&(ze.splice(a,1),ze.length===0&&document.body.removeEventListener("focusin",Vl))}const{notPassiveCapture:dt}=Mt,He=[];function ft(e){const a=e.target;if(a===void 0||a.nodeType===8||a.classList.contains("no-pointer-events")===!0)return;let o=at.length-1;for(;o>=0;){const n=at[o].$;if(n.type.name==="QTooltip"){o--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;o--}for(let n=He.length-1;n>=0;n--){const l=He[n];if((l.anchorEl.value===null||l.anchorEl.value.contains(a)===!1)&&(a===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(a)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function Nn(e){He.push(e),He.length===1&&(document.addEventListener("mousedown",ft,dt),document.addEventListener("touchstart",ft,dt))}function jt(e){const a=He.findIndex(o=>o===e);a!==-1&&(He.splice(a,1),He.length===0&&(document.removeEventListener("mousedown",ft,dt),document.removeEventListener("touchstart",ft,dt)))}let Ut,Gt;function Xt(e){const a=e.split(" ");return a.length!==2?!1:["top","center","bottom"].includes(a[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(a[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function $n(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Tt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Tt[`${e}#ltr`]=e,Tt[`${e}#rtl`]=e});function Zt(e,a){const o=e.split(" ");return{vertical:o[0],horizontal:Tt[`${o[1]}#${a===!0?"rtl":"ltr"}`]}}function Kn(e,a){let{top:o,left:n,right:l,bottom:u,width:s,height:f}=e.getBoundingClientRect();return a!==void 0&&(o-=a[1],n-=a[0],u+=a[1],l+=a[0],s+=a[0],f+=a[1]),{top:o,bottom:u,height:f,left:n,right:l,width:s,middle:n+(l-n)/2,center:o+(u-o)/2}}function Qn(e,a,o){let{top:n,left:l}=e.getBoundingClientRect();return n+=a.top,l+=a.left,o!==void 0&&(n+=o[1],l+=o[0]),{top:n,bottom:n+1,height:1,left:l,right:l+1,width:1,middle:l,center:n}}function Wn(e,a){return{top:0,center:a/2,bottom:a,left:0,middle:e/2,right:e}}function Jt(e,a,o,n){return{top:e[o.vertical]-a[n.vertical],left:e[o.horizontal]-a[n.horizontal]}}function Tl(e,a=0){if(e.targetEl===null||e.anchorEl===null||a>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Tl(e,a+1)},10);return}const{targetEl:o,offset:n,anchorEl:l,anchorOrigin:u,selfOrigin:s,absoluteOffset:f,fit:g,cover:S,maxHeight:d,maxWidth:k}=e;if(Ft.is.ios===!0&&window.visualViewport!==void 0){const q=document.body.style,{offsetLeft:L,offsetTop:H}=window.visualViewport;L!==Ut&&(q.setProperty("--q-pe-left",L+"px"),Ut=L),H!==Gt&&(q.setProperty("--q-pe-top",H+"px"),Gt=H)}const{scrollLeft:A,scrollTop:v}=o,C=f===void 0?Kn(l,S===!0?[0,0]:n):Qn(l,f,n);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:k,maxHeight:d,visibility:"visible"});const{offsetWidth:j,offsetHeight:z}=o,{elWidth:O,elHeight:N}=g===!0||S===!0?{elWidth:Math.max(C.width,j),elHeight:S===!0?Math.max(C.height,z):z}:{elWidth:j,elHeight:z};let M={maxWidth:k,maxHeight:d};(g===!0||S===!0)&&(M.minWidth=C.width+"px",S===!0&&(M.minHeight=C.height+"px")),Object.assign(o.style,M);const E=Wn(O,N);let y=Jt(C,E,u,s);if(f===void 0||n===void 0)Ct(y,C,E,u,s);else{const{top:q,left:L}=y;Ct(y,C,E,u,s);let H=!1;if(y.top!==q){H=!0;const G=2*n[1];C.center=C.top-=G,C.bottom-=G+2}if(y.left!==L){H=!0;const G=2*n[0];C.middle=C.left-=G,C.right-=G+2}H===!0&&(y=Jt(C,E,u,s),Ct(y,C,E,u,s))}M={top:y.top+"px",left:y.left+"px"},y.maxHeight!==void 0&&(M.maxHeight=y.maxHeight+"px",C.height>y.maxHeight&&(M.minHeight=M.maxHeight)),y.maxWidth!==void 0&&(M.maxWidth=y.maxWidth+"px",C.width>y.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(o.style,M),o.scrollTop!==v&&(o.scrollTop=v),o.scrollLeft!==A&&(o.scrollLeft=A)}function Ct(e,a,o,n,l){const u=o.bottom,s=o.right,f=hn(),g=window.innerHeight-f,S=document.body.clientWidth;if(e.top<0||e.top+u>g)if(l.vertical==="center")e.top=a[n.vertical]>g/2?Math.max(0,g-u):0,e.maxHeight=Math.min(u,g);else if(a[n.vertical]>g/2){const d=Math.min(g,n.vertical==="center"?a.center:n.vertical===l.vertical?a.bottom:a.top);e.maxHeight=Math.min(u,d),e.top=Math.max(0,d-u)}else e.top=Math.max(0,n.vertical==="center"?a.center:n.vertical===l.vertical?a.top:a.bottom),e.maxHeight=Math.min(u,g-e.top);if(e.left<0||e.left+s>S)if(e.maxWidth=Math.min(s,S),l.horizontal==="middle")e.left=a[n.horizontal]>S/2?Math.max(0,S-s):0;else if(a[n.horizontal]>S/2){const d=Math.min(S,n.horizontal==="middle"?a.middle:n.horizontal===l.horizontal?a.right:a.left);e.maxWidth=Math.min(s,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?a.middle:n.horizontal===l.horizontal?a.left:a.right),e.maxWidth=Math.min(s,S-e.left)}const jn=Ze({name:"QMenu",inheritAttrs:!1,props:{...Tn,...ml,...bl,...Cl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Xt},self:{type:String,validator:Xt},offset:{type:Array,validator:$n},scrollTarget:bn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...vl,"click","escapeKey"],setup(e,{slots:a,emit:o,attrs:n}){let l=null,u,s,f;const g=Ve(),{proxy:S}=g,{$q:d}=S,k=T(null),A=T(!1),v=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Sl(e,d),{registerTick:j,removeTick:z}=xl(),{registerTimeout:O}=gl(),{transitionProps:N,transitionStyle:M}=kl(e),{localScrollTarget:E,changeScrollEvent:y,unconfigureScrollTarget:q}=Bn(e,F),{anchorEl:L,canShow:H}=En({showing:A}),{hide:G}=hl({showing:A,canShow:H,handleShow:fe,handleHide:i,hideOnRouteChange:v,processOnMount:!0}),{showPortal:Z,hidePortal:Y,renderPortal:$}=wl(g,k,D,"menu"),ue={anchorEl:L,innerRef:k,onClickOutside(m){if(e.persistent!==!0&&A.value===!0)return G(m),(m.type==="touchstart"||m.target.classList.contains("q-dialog__backdrop"))&&Me(m),!0}},ce=r(()=>Zt(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),de=r(()=>e.cover===!0?ce.value:Zt(e.self||"top start",d.lang.rtl)),te=r(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),le=r(()=>e.autoClose===!0?{onClick:R}:{}),ae=r(()=>A.value===!0&&e.persistent!==!0);ie(ae,m=>{m===!0?(Ml(b),Nn(ue)):(ct(b),jt(ue))});function ne(){ul(()=>{let m=k.value;m&&m.contains(document.activeElement)!==!0&&(m=m.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.querySelector("[autofocus], [data-autofocus]")||m,m.focus({preventScroll:!0}))})}function fe(m){if(l=e.noRefocus===!1?document.activeElement:null,ql(K),Z(),F(),u=void 0,m!==void 0&&(e.touchPosition||e.contextMenu)){const U=sl(m);if(U.left!==void 0){const{top:re,left:Ce}=L.value.getBoundingClientRect();u={left:U.left-Ce,top:U.top-re}}}s===void 0&&(s=ie(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,x)),e.noFocus!==!0&&document.activeElement.blur(),j(()=>{x(),e.noFocus!==!0&&ne()}),O(()=>{d.platform.is.ios===!0&&(f=e.autoClose,k.value.click()),x(),Z(!0),o("show",m)},e.transitionDuration)}function i(m){z(),Y(),h(!0),l!==null&&(m===void 0||m.qClickOutside!==!0)&&(((m&&m.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),O(()=>{Y(!0),o("hide",m)},e.transitionDuration)}function h(m){u=void 0,s!==void 0&&(s(),s=void 0),(m===!0||A.value===!0)&&(qt(K),q(),jt(ue),ct(b)),m!==!0&&(l=null)}function F(){(L.value!==null||e.scrollTarget!==void 0)&&(E.value=Sn(L.value,e.scrollTarget),y(E.value,x))}function R(m){f!==!0?(Hn(S,m),o("click",m)):f=!1}function K(m){ae.value===!0&&e.noFocus!==!0&&pl(k.value,m.target)!==!0&&ne()}function b(m){o("escapeKey"),G(m)}function x(){Tl({targetEl:k.value,offset:e.offset,anchorEl:L.value,anchorOrigin:ce.value,selfOrigin:de.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(){return V(Vt,N.value,()=>A.value===!0?V("div",{role:"menu",...n,ref:k,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,n.class],style:[n.style,M.value],...le.value},cl(a.default)):null)}return qe(h),Object.assign(S,{focus:ne,updatePosition:x}),$}});let st=0;const Un={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Yt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Gn=Ze({name:"QDialog",inheritAttrs:!1,props:{...ml,...Cl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...vl,"shake","click","escapeKey"],setup(e,{slots:a,emit:o,attrs:n}){const l=Ve(),u=T(null),s=T(!1),f=T(!1);let g=null,S=null,d,k;const A=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:v}=pn(),{registerTimeout:C}=gl(),{registerTick:j,removeTick:z}=xl(),{transitionProps:O,transitionStyle:N}=kl(e,()=>Yt[e.position][0],()=>Yt[e.position][1]),M=r(()=>N.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:E,hidePortal:y,portalIsAccessible:q,renderPortal:L}=wl(l,u,K,"dialog"),{hide:H}=hl({showing:s,hideOnRouteChange:A,handleShow:de,handleHide:te,processOnMount:!0}),{addToHistory:G,removeFromHistory:Z}=yn(s,H,A),Y=r(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Un[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),$=r(()=>s.value===!0&&e.seamless!==!0),ue=r(()=>e.autoClose===!0?{onClick:h}:{}),ce=r(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${$.value===!0?"modal":"seamless"}`,n.class]);ie(()=>e.maximized,b=>{s.value===!0&&i(b)}),ie($,b=>{v(b),b===!0?(ql(R),Ml(ne)):(qt(R),ct(ne))});function de(b){G(),S=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,i(e.maximized),E(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),j(le)):z(),C(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:x,bottom:D}=document.activeElement.getBoundingClientRect(),{innerHeight:m}=window,U=window.visualViewport!==void 0?window.visualViewport.height:m;x>0&&D>U/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-U,D>=m?1/0:Math.ceil(document.scrollingElement.scrollTop+D-U/2))),document.activeElement.scrollIntoView()}k=!0,u.value.click(),k=!1}E(!0),f.value=!1,o("show",b)},e.transitionDuration)}function te(b){z(),Z(),fe(!0),f.value=!0,y(),S!==null&&(((b&&b.type.indexOf("key")===0?S.closest('[tabindex]:not([tabindex^="-"])'):void 0)||S).focus(),S=null),C(()=>{y(!0),f.value=!1,o("hide",b)},e.transitionDuration)}function le(b){ul(()=>{let x=u.value;if(x!==null){if(b!==void 0){const D=x.querySelector(b);if(D!==null){D.focus({preventScroll:!0});return}}x.contains(document.activeElement)!==!0&&(x=x.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||x.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||x.querySelector("[autofocus], [data-autofocus]")||x,x.focus({preventScroll:!0}))}})}function ae(b){b&&typeof b.focus=="function"?b.focus({preventScroll:!0}):le(),o("shake");const x=u.value;x!==null&&(x.classList.remove("q-animate--scale"),x.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,u.value!==null&&(x.classList.remove("q-animate--scale"),le())},170))}function ne(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ae():(o("escapeKey"),H()))}function fe(b){g!==null&&(clearTimeout(g),g=null),(b===!0||s.value===!0)&&(i(!1),e.seamless!==!0&&(v(!1),qt(R),ct(ne))),b!==!0&&(S=null)}function i(b){b===!0?d!==!0&&(st<1&&document.body.classList.add("q-body--dialog"),st++,d=!0):d===!0&&(st<2&&document.body.classList.remove("q-body--dialog"),st--,d=!1)}function h(b){k!==!0&&(H(b),o("click",b))}function F(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?H(b):e.noShake!==!0&&ae()}function R(b){e.allowFocusOutside!==!0&&q.value===!0&&pl(u.value,b.target)!==!0&&le('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:le,shake:ae,__updateRefocusTarget(b){S=b||null}}),qe(fe);function K(){return V("div",{role:"dialog","aria-modal":$.value===!0?"true":"false",...n,class:ce.value},[V(Vt,{name:"q-transition--fade",appear:!0},()=>$.value===!0?V("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:F}):null),V(Vt,O.value,()=>s.value===!0?V("div",{ref:u,class:Y.value,style:N.value,tabindex:-1,...ue.value},cl(a.default)):null)])}return L}});let vt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,vt=e.scrollLeft>=0,e.remove()}const he=1e3,Xn=["start","center","end","start-force","center-force","end-force"],El=Array.prototype.filter,Zn=window.getComputedStyle(document.body).overflowAnchor===void 0?en:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];El.call(o,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const n=o[a];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Ge(e,a){return e+a}function kt(e,a,o,n,l,u,s,f){const g=e===window?document.scrollingElement||document.documentElement:e,S=l===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-s-f,scrollMaxSize:0,offsetStart:-s,offsetEnd:-f};if(l===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=g.scrollLeft,d.scrollViewSize+=g.clientWidth),d.scrollMaxSize=g.scrollWidth,u===!0&&(d.scrollStart=(vt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=g.scrollTop,d.scrollViewSize+=g.clientHeight),d.scrollMaxSize=g.scrollHeight),o!==null)for(let k=o.previousElementSibling;k!==null;k=k.previousElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=k[S]);if(n!==null)for(let k=n.nextElementSibling;k!==null;k=k.nextElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=k[S]);if(a!==e){const k=g.getBoundingClientRect(),A=a.getBoundingClientRect();l===!0?(d.offsetStart+=A.left-k.left,d.offsetEnd-=A.width):(d.offsetStart+=A.top-k.top,d.offsetEnd-=A.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function el(e,a,o,n){a==="end"&&(a=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(n===!0&&(a=(vt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):o===!0?(n===!0&&(a=(vt===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function lt(e,a,o,n){if(o>=n)return 0;const l=a.length,u=Math.floor(o/he),s=Math.floor((n-1)/he)+1;let f=e.slice(u,s).reduce(Ge,0);return o%he!==0&&(f-=a.slice(u*he,o).reduce(Ge,0)),n%he!==0&&n!==l&&(f-=a.slice(n,s*he).reduce(Ge,0)),f}const Jn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},tl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Jn};function Yn({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:o,virtualScrollItemSizeComputed:n}){const l=Ve(),{props:u,emit:s,proxy:f}=l,{$q:g}=f;let S,d,k,A=[],v;const C=T(0),j=T(0),z=T({}),O=T(null),N=T(null),M=T(null),E=T({from:0,to:0}),y=r(()=>u.tableColspan!==void 0?u.tableColspan:100);n===void 0&&(n=r(()=>u.virtualScrollItemSize));const q=r(()=>n.value+";"+u.virtualScrollHorizontal),L=r(()=>q.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ie(L,()=>{te()}),ie(q,H);function H(){de(d,!0)}function G(i){de(i===void 0?d:i)}function Z(i,h){const F=a();if(F==null||F.nodeType===8)return;const R=kt(F,o(),O.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);k!==R.scrollViewSize&&te(R.scrollViewSize),$(F,R,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,Xn.indexOf(h)!==-1?h:d!==-1&&i>d?"end":"start")}function Y(){const i=a();if(i==null||i.nodeType===8)return;const h=kt(i,o(),O.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),F=e.value-1,R=h.scrollMaxSize-h.offsetStart-h.offsetEnd-j.value;if(S===h.scrollStart)return;if(h.scrollMaxSize<=0){$(i,h,0,0);return}k!==h.scrollViewSize&&te(h.scrollViewSize),ue(E.value.from);const K=Math.floor(h.scrollMaxSize-Math.max(h.scrollViewSize,h.offsetEnd)-Math.min(v[F],h.scrollViewSize/2));if(K>0&&Math.ceil(h.scrollStart)>=K){$(i,h,F,h.scrollMaxSize-h.offsetEnd-A.reduce(Ge,0));return}let b=0,x=h.scrollStart-h.offsetStart,D=x;if(x<=R&&x+h.scrollViewSize>=C.value)x-=C.value,b=E.value.from,D=x;else for(let m=0;x>=A[m]&&b<F;m++)x-=A[m],b+=he;for(;x>0&&b<F;)x-=v[b],x>-h.scrollViewSize?(b++,D=x):D=v[b]+x;$(i,h,b,D)}function $(i,h,F,R,K){const b=typeof K=="string"&&K.indexOf("-force")!==-1,x=b===!0?K.replace("-force",""):K,D=x!==void 0?x:"start";let m=Math.max(0,F-z.value[D]),U=m+z.value.total;U>e.value&&(U=e.value,m=Math.max(0,U-z.value.total)),S=h.scrollStart;const re=m!==E.value.from||U!==E.value.to;if(re===!1&&x===void 0){ae(F);return}const{activeElement:Ce}=document,se=M.value;re===!0&&se!==null&&se!==Ce&&se.contains(Ce)===!0&&(se.addEventListener("focusout",ce),setTimeout(()=>{se!==null&&se.removeEventListener("focusout",ce)})),Zn(se,F-m);const Te=x!==void 0?v.slice(m,F).reduce(Ge,0):0;if(re===!0){const be=U>=E.value.from&&m<=E.value.to?E.value.to:U;E.value={from:m,to:be},C.value=lt(A,v,0,m),j.value=lt(A,v,U,e.value),requestAnimationFrame(()=>{E.value.to!==U&&S===h.scrollStart&&(E.value={from:E.value.from,to:U},j.value=lt(A,v,U,e.value))})}requestAnimationFrame(()=>{if(S!==h.scrollStart)return;re===!0&&ue(m);const be=v.slice(m,F).reduce(Ge,0),me=be+h.offsetStart+C.value,Ee=me+v[F];let Be=me+R;if(x!==void 0){const Je=be-Te,ke=h.scrollStart+Je;Be=b!==!0&&ke<me&&Ee<ke+h.scrollViewSize?ke:x==="end"?Ee-h.scrollViewSize:me-(x==="start"?0:Math.round((h.scrollViewSize-v[F])/2))}S=Be,el(i,Be,u.virtualScrollHorizontal,g.lang.rtl),ae(F)})}function ue(i){const h=M.value;if(h){const F=El.call(h.children,m=>m.classList&&m.classList.contains("q-virtual-scroll--skip")===!1),R=F.length,K=u.virtualScrollHorizontal===!0?m=>m.getBoundingClientRect().width:m=>m.offsetHeight;let b=i,x,D;for(let m=0;m<R;){for(x=K(F[m]),m++;m<R&&F[m].classList.contains("q-virtual-scroll--with-prev")===!0;)x+=K(F[m]),m++;D=x-v[b],D!==0&&(v[b]+=D,A[Math.floor(b/he)]+=D),b++}}}function ce(){M.value!==null&&M.value!==void 0&&M.value.focus()}function de(i,h){const F=1*n.value;(h===!0||Array.isArray(v)===!1)&&(v=[]);const R=v.length;v.length=e.value;for(let b=e.value-1;b>=R;b--)v[b]=F;const K=Math.floor((e.value-1)/he);A=[];for(let b=0;b<=K;b++){let x=0;const D=Math.min((b+1)*he,e.value);for(let m=b*he;m<D;m++)x+=v[m];A.push(x)}d=-1,S=void 0,C.value=lt(A,v,0,E.value.from),j.value=lt(A,v,E.value.to,e.value),i>=0?(ue(E.value.from),ye(()=>{Z(i)})):ne()}function te(i){if(i===void 0&&typeof window<"u"){const x=a();x!=null&&x.nodeType!==8&&(i=kt(x,o(),O.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}k=i;const h=parseFloat(u.virtualScrollSliceRatioBefore)||0,F=parseFloat(u.virtualScrollSliceRatioAfter)||0,R=1+h+F,K=i===void 0||i<=0?1:Math.ceil(i/n.value),b=Math.max(1,K,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/R));z.value={total:Math.ceil(b*R),start:Math.ceil(b*h),center:Math.ceil(b*(.5+h)),end:Math.ceil(b*(1+h)),view:K}}function le(i,h){const F=u.virtualScrollHorizontal===!0?"width":"height",R={["--q-virtual-scroll-item-"+F]:n.value+"px"};return[i==="tbody"?V(i,{class:"q-virtual-scroll__padding",key:"before",ref:O},[V("tr",[V("td",{style:{[F]:`${C.value}px`,...R},colspan:y.value})])]):V(i,{class:"q-virtual-scroll__padding",key:"before",ref:O,style:{[F]:`${C.value}px`,...R}}),V(i,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},h.flat()),i==="tbody"?V(i,{class:"q-virtual-scroll__padding",key:"after",ref:N},[V("tr",[V("td",{style:{[F]:`${j.value}px`,...R},colspan:y.value})])]):V(i,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[F]:`${j.value}px`,...R}})]}function ae(i){d!==i&&(u.onVirtualScroll!==void 0&&s("virtualScroll",{index:i,from:E.value.from,to:E.value.to-1,direction:i<d?"decrease":"increase",ref:f}),d=i)}te();const ne=Zl(Y,g.platform.is.ios===!0?120:35);Jl(()=>{te()});let fe=!1;return rl(()=>{fe=!0}),Yl(()=>{if(fe!==!0)return;const i=a();S!==void 0&&i!==void 0&&i!==null&&i.nodeType!==8?el(i,S,u.virtualScrollHorizontal,g.lang.rtl):Z(d)}),qe(()=>{ne.cancel()}),Object.assign(f,{scrollTo:Z,reset:H,refresh:G}),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:z,setVirtualScrollSize:te,onVirtualScrollEvt:ne,localResetVirtualScroll:de,padVirtualScroll:le,scrollTo:Z,reset:H,refresh:G}}const ll=e=>["add","add-unique","toggle"].includes(e),ea=".*+?^${}()|[]\\",ta=Object.keys(Et);function xt(e,a){if(typeof e=="function")return e;const o=e!==void 0?e:a;return n=>n!==null&&typeof n=="object"&&o in n?n[o]:n}const la=Ze({name:"QSelect",inheritAttrs:!1,props:{...tl,...yl,...Et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ll},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:tl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...al,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:o}){const{proxy:n}=Ve(),{$q:l}=n,u=T(!1),s=T(!1),f=T(-1),g=T(""),S=T(!1),d=T(!1);let k=null,A=null,v,C,j,z=null,O,N,M,E;const y=T(null),q=T(null),L=T(null),H=T(null),G=T(null),Z=Cn(e),Y=Wl(It),$=r(()=>Array.isArray(e.options)?e.options.length:0),ue=r(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ce,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:te,padVirtualScroll:le,onVirtualScrollEvt:ae,scrollTo:ne,setVirtualScrollSize:fe}=Yn({virtualScrollLength:$,getVirtualScrollTarget:Fl,getVirtualScrollEl:Pe,virtualScrollItemSizeComputed:ue}),i=il(),h=r(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,p=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const w=e.mapOptions===!0&&v!==void 0?v:[],I=p.map(W=>c(W,w));return e.modelValue===null&&t===!0?I.filter(W=>W!==null):I}return p}),F=r(()=>{const t={};return ta.forEach(p=>{const w=e[p];w!==void 0&&(t[p]=w)}),t}),R=r(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),K=r(()=>_t(h.value)),b=r(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),x=r(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=r(()=>$.value===0),m=r(()=>h.value.map(t=>oe.value(t)).join(", ")),U=r(()=>e.displayValue!==void 0?e.displayValue:m.value),re=r(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ce=r(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(re.value))),se=r(()=>i.focused.value===!0?e.tabindex:-1),Te=r(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${i.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${f.value}`),t}),be=r(()=>({id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=r(()=>h.value.map((t,p)=>({index:p,opt:t,html:re.value(t),selected:!0,removeAtIndex:mt,toggleOption:pe,tabindex:se.value}))),Ee=r(()=>{if($.value===0)return[];const{from:t,to:p}=ce.value;return e.options.slice(t,p).map((w,I)=>{const W=xe.value(w)===!0,_=B(w)===!0,ee=t+I,X={clickable:!0,active:_,activeClass:ke.value,manualFocus:!0,focused:!1,disable:W,tabindex:-1,dense:e.optionsDense,dark:R.value,role:"option","aria-selected":_===!0?"true":"false",id:`${i.targetUid.value}_${ee}`,onClick:()=>{pe(w)}};return W!==!0&&(f.value===ee&&(X.focused=!0),l.platform.is.desktop===!0&&(X.onMousemove=()=>{u.value===!0&&Ae(ee)})),{index:ee,opt:w,html:re.value(w),label:oe.value(w),selected:X.active,focused:X.focused,toggleOption:pe,setOptionIndex:Ae,itemProps:X}})}),Be=r(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),Je=r(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ke=r(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ve=r(()=>xt(e.optionValue,"value")),oe=r(()=>xt(e.optionLabel,"label")),xe=r(()=>xt(e.optionDisable,"disable")),Re=r(()=>h.value.map(ve.value)),ot=r(()=>{const t={onInput:It,onChange:Y,onKeydown:Oe,onKeyup:J,onKeypress:ge,onFocus:P,onClick(p){C===!0&&Qe(p)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Y,t});ie(h,t=>{v=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(s.value!==!0&&u.value!==!0||K.value!==!0)&&(j!==!0&&Ke(),(s.value===!0||u.value===!0)&&_e(""))},{immediate:!0}),ie(()=>e.fillInput,Ke),ie(u,gt),ie($,Kl);function it(t){return e.emitValue===!0?ve.value(t):t}function Fe(t){if(t!==-1&&t<h.value.length)if(e.multiple===!0){const p=e.modelValue.slice();o("remove",{index:t,value:p.splice(t,1)[0]}),o("update:modelValue",p)}else o("update:modelValue",null)}function mt(t){Fe(t),i.focus()}function ut(t,p){const w=it(t);if(e.multiple!==!0){e.fillInput===!0&&Ye(oe.value(t),!0,!0),o("update:modelValue",w);return}if(h.value.length===0){o("add",{index:0,value:w}),o("update:modelValue",e.multiple===!0?[w]:w);return}if(p===!0&&B(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const I=e.modelValue.slice();o("add",{index:I.length,value:w}),I.push(w),o("update:modelValue",I)}function pe(t,p){if(i.editable.value!==!0||t===void 0||xe.value(t)===!0)return;const w=ve.value(t);if(e.multiple!==!0){p!==!0&&(Ye(e.fillInput===!0?oe.value(t):"",!0,!0),Le()),q.value!==null&&q.value.focus(),(h.value.length===0||et(ve.value(h.value[0]),w)!==!0)&&o("update:modelValue",e.emitValue===!0?w:t);return}if((C!==!0||S.value===!0)&&i.focus(),P(),h.value.length===0){const _=e.emitValue===!0?w:t;o("add",{index:0,value:_}),o("update:modelValue",e.multiple===!0?[_]:_);return}const I=e.modelValue.slice(),W=Re.value.findIndex(_=>et(_,w));if(W!==-1)o("remove",{index:W,value:I.splice(W,1)[0]});else{if(e.maxValues!==void 0&&I.length>=e.maxValues)return;const _=e.emitValue===!0?w:t;o("add",{index:I.length,value:_}),I.push(_)}o("update:modelValue",I)}function Ae(t){if(l.platform.is.desktop!==!0)return;const p=t!==-1&&t<$.value?t:-1;f.value!==p&&(f.value=p)}function De(t=1,p){if(u.value===!0){let w=f.value;do w=Pt(w+t,-1,$.value-1);while(w!==-1&&w!==f.value&&xe.value(e.options[w])===!0);f.value!==w&&(Ae(w),ne(w),p!==!0&&e.useInput===!0&&e.fillInput===!0&&rt(w>=0?oe.value(e.options[w]):O,!0))}}function c(t,p){const w=I=>et(ve.value(I),t);return e.options.find(w)||p.find(w)||t}function B(t){const p=ve.value(t);return Re.value.find(w=>et(w,p))!==void 0}function P(t){e.useInput===!0&&q.value!==null&&(t===void 0||q.value===t.target&&t.target.value===m.value)&&q.value.select()}function Q(t){Bt(t,27)===!0&&u.value===!0&&(Qe(t),Le(),Ke()),o("keyup",t)}function J(t){const{value:p}=t.target;if(t.keyCode!==void 0){Q(t);return}if(t.target.value="",k!==null&&(clearTimeout(k),k=null),A!==null&&(clearTimeout(A),A=null),Ke(),typeof p=="string"&&p.length!==0){const w=p.toLocaleLowerCase(),I=_=>{const ee=e.options.find(X=>String(_.value(X)).toLocaleLowerCase()===w);return ee===void 0?!1:(h.value.indexOf(ee)===-1?pe(ee):Le(),!0)},W=_=>{I(ve)!==!0&&_!==!0&&I(oe)!==!0&&_e(p,!0,()=>W(!0))};W()}else i.clearValue(t)}function ge(t){o("keypress",t)}function Oe(t){if(o("keydown",t),nn(t)===!0)return;const p=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),w=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||p===!0);if(t.keyCode===27){nt(t);return}if(t.keyCode===9&&w===!1){Ne();return}if(t.target===void 0||t.target.id!==i.targetUid.value||i.editable.value!==!0)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&u.value===!1){Me(t),$e();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Fe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Me(t),f.value=-1,De(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&de.value!==void 0&&(Me(t),f.value=Math.max(-1,Math.min($.value,f.value+(t.keyCode===33?-1:1)*de.value.view)),De(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Me(t),De(t.keyCode===38?-1:1,e.multiple));const I=$.value;if((M===void 0||E<Date.now())&&(M=""),I>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length!==0)){u.value!==!0&&$e(t);const W=t.key.toLocaleLowerCase(),_=M.length===1&&M[0]===W;E=Date.now()+1500,_===!1&&(Me(t),M+=W);const ee=new RegExp("^"+M.split("").map(ht=>ea.indexOf(ht)!==-1?"\\"+ht:ht).join(".*"),"i");let X=f.value;if(_===!0||X<0||ee.test(oe.value(e.options[X]))!==!0)do X=Pt(X+1,-1,I-1);while(X!==f.value&&(xe.value(e.options[X])===!0||ee.test(oe.value(e.options[X]))!==!0));f.value!==X&&ye(()=>{Ae(X),ne(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&rt(oe.value(e.options[X]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||w===!1))){if(t.keyCode!==9&&Me(t),f.value!==-1&&f.value<I){pe(e.options[f.value]);return}if(p===!0){const W=(_,ee)=>{if(ee){if(ll(ee)!==!0)return}else ee=e.newValueMode;if(Ye("",e.multiple!==!0,!0),_==null)return;(ee==="toggle"?pe:ut)(_,ee==="add-unique"),e.multiple!==!0&&(q.value!==null&&q.value.focus(),Le())};if(e.onNewValue!==void 0?o("newValue",g.value,W):W(g.value),e.multiple!==!0)return}u.value===!0?Ne():i.innerLoading.value!==!0&&$e()}}function Pe(){return C===!0?G.value:L.value!==null&&L.value.contentEl!==null?L.value.contentEl:void 0}function Fl(){return Pe()}function Ll(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?me.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?me.value.map((t,p)=>V(vn,{key:"option-"+p,removable:i.editable.value===!0&&xe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:se.value,onRemove(){t.removeAtIndex(p)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:oe.value(t.opt)}))):[V("span",{[Ce.value===!0?"innerHTML":"textContent"]:U.value})]}function Lt(){if(D.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:g.value}):void 0;const t=a.option!==void 0?a.option:w=>V(dl,{key:w.index,...w.itemProps},()=>V(mn,()=>V(fl,()=>V("span",{[w.html===!0?"innerHTML":"textContent"]:w.label}))));let p=le("div",Ee.value.map(t));return a["before-options"]!==void 0&&(p=a["before-options"]().concat(p)),dn(a["after-options"],p)}function Il(t,p){const w=p===!0?{...Te.value,...i.splitAttrs.attributes.value}:void 0,I={ref:p===!0?q:void 0,key:"i_t",class:b.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...w,id:p===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ot.value};return t!==!0&&C===!0&&(Array.isArray(I.class)===!0?I.class=[...I.class,"no-pointer-events"]:I.class+=" no-pointer-events"),V("input",I)}function It(t){k!==null&&(clearTimeout(k),k=null),A!==null&&(clearTimeout(A),A=null),!(t&&t.target&&t.target.qComposing===!0)&&(rt(t.target.value||""),j=!0,O=g.value,i.focused.value!==!0&&(C!==!0||S.value===!0)&&i.focus(),e.onFilter!==void 0&&(k=setTimeout(()=>{k=null,_e(g.value)},e.inputDebounce)))}function rt(t,p){g.value!==t&&(g.value=t,p===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):A=setTimeout(()=>{A=null,o("inputValue",t)},e.inputDebounce))}function Ye(t,p,w){j=w!==!0,e.useInput===!0&&(rt(t,!0),(p===!0||w!==!0)&&(O=t),p!==!0&&_e(t))}function _e(t,p,w){if(e.onFilter===void 0||p!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?o("filterAbort"):(i.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&h.value.length!==0&&j!==!0&&t===oe.value(h.value[0])&&(t="");const I=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);z!==null&&clearTimeout(z),z=I,o("filter",t,(W,_)=>{(p===!0||i.focused.value===!0)&&z===I&&(clearTimeout(z),typeof W=="function"&&W(),d.value=!1,ye(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(p===!0?u.value===!0&&Le():u.value===!0?gt(!0):u.value=!0),typeof _=="function"&&ye(()=>{_(n)}),typeof w=="function"&&ye(()=>{w(n)})}))},()=>{i.focused.value===!0&&z===I&&(clearTimeout(z),i.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function zl(){return V(jn,{ref:L,class:x.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:R.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Je.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...be.value,onScrollPassive:ae,onBeforeShow:Ht,onBeforeHide:Hl,onShow:Rl},Lt)}function Hl(t){Rt(t),Ne()}function Rl(){fe()}function Dl(t){Qe(t),q.value!==null&&q.value.focus(),S.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ol(t){Qe(t),ye(()=>{S.value=!1})}function Pl(){const t=[V(Vn,{class:`col-auto ${i.fieldClass.value}`,...F.value,for:i.targetUid.value,dark:R.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...i.splitAttrs.listeners.value,onFocus:Dl,onBlur:Ol},{...a,rawControl:()=>i.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(V("div",{ref:G,class:x.value+" scroll",style:e.popupContentStyle,...be.value,onClick:nt,onScrollPassive:ae},Lt())),V(Gn,{ref:H,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ht,onBeforeHide:_l,onHide:Nl,onShow:$l},()=>V("div",{class:"q-select__dialog"+(R.value===!0?" q-select__dialog--dark q-dark":"")+(S.value===!0?" q-select__dialog--focused":"")},t))}function _l(t){Rt(t),H.value!==null&&H.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function Nl(t){Le(),i.focused.value===!1&&o("blur",t),Ke()}function $l(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&q.value!==null&&q.value!==t&&q.value.focus(),fe()}function Ne(){s.value!==!0&&(f.value=-1,u.value===!0&&(u.value=!1),i.focused.value===!1&&(z!==null&&(clearTimeout(z),z=null),i.innerLoading.value===!0&&(o("filterAbort"),i.innerLoading.value=!1,d.value=!1)))}function $e(t){i.editable.value===!0&&(C===!0?(i.onControlFocusin(t),s.value=!0,ye(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?_e(g.value):(D.value!==!0||a["no-option"]!==void 0)&&(u.value=!0))}function Le(){s.value=!1,Ne()}function Ke(){e.useInput===!0&&Ye(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&oe.value(h.value[0])||"",!0,!0)}function gt(t){let p=-1;if(t===!0){if(h.value.length!==0){const w=ve.value(h.value[0]);p=e.options.findIndex(I=>et(ve.value(I),w))}te(p)}Ae(p)}function Kl(t,p){u.value===!0&&i.innerLoading.value===!1&&(te(-1,!0),ye(()=>{u.value===!0&&i.innerLoading.value===!1&&(t>p?te():gt(!0))}))}function zt(){s.value===!1&&L.value!==null&&L.value.updatePosition()}function Ht(t){t!==void 0&&Qe(t),o("popupShow",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function Rt(t){t!==void 0&&Qe(t),o("popupHide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function Dt(){C=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),N=l.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return tn(Dt),ln(zt),Dt(),qe(()=>{k!==null&&clearTimeout(k),A!==null&&clearTimeout(A)}),Object.assign(n,{showPopup:$e,hidePopup:Le,removeAtIndex:Fe,add:ut,toggleOption:pe,getOptionIndex:()=>f.value,setOptionIndex:Ae,moveOptionSelection:De,filter:_e,updateMenuPosition:zt,updateInputValue:Ye,isOptionSelected:B,getEmittingOptionValue:it,isOptionDisabled:(...t)=>xe.value.apply(null,t)===!0,getOptionValue:(...t)=>ve.value.apply(null,t),getOptionLabel:(...t)=>oe.value.apply(null,t)}),Object.assign(i,{innerValue:h,fieldClass:r(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:y,targetRef:q,hasValue:K,showPopup:$e,floatingLabel:r(()=>e.hideSelected!==!0&&K.value===!0||typeof g.value=="number"||g.value.length!==0||_t(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(s.value===!0||D.value!==!0||a["no-option"]!==void 0))return C===!0?Pl():zl();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{Ke(),Ne()})},onClick(t){if(nt(t),C!==!0&&u.value===!0){Ne(),q.value!==null&&q.value.focus();return}$e(t)}},getControl:t=>{const p=Ll(),w=t===!0||s.value!==!0||C!==!0;if(e.useInput===!0)p.push(Il(t,w));else if(i.editable.value===!0){const W=w===!0?Te.value:void 0;p.push(V("input",{ref:w===!0?q:void 0,key:"d_t",class:"q-select__focus-target",id:w===!0?i.targetUid.value:void 0,value:U.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...W,onKeydown:Oe,onKeyup:Q,onKeypress:ge})),w===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&p.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:J}))}if(Z.value!==void 0&&e.disable!==!0&&Re.value.length!==0){const W=Re.value.map(_=>V("option",{value:_,selected:!0}));p.push(V("select",{class:"hidden",name:Z.value,multiple:e.multiple},W))}const I=e.useInput===!0||w!==!0?void 0:i.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...I,...i.splitAttrs.listeners.value},p)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[V(cn,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Be.value})]:null}),ol(i)}}),nl="q-slider__marker-labels",na=e=>({value:e}),aa=({marker:e})=>V("div",{key:e.value,style:e.style,class:e.classes},e.label),Bl=[34,37,40,33,39,38],oa={...bl,...yl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ia=["pan","update:modelValue","change"];function ua({updateValue:e,updatePosition:a,getDragging:o,formAttrs:n}){const{props:l,emit:u,slots:s,proxy:{$q:f}}=Ve(),g=Sl(l,f),S=kn(n),d=T(!1),k=T(!1),A=T(!1),v=T(!1),C=r(()=>l.vertical===!0?"--v":"--h"),j=r(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),z=r(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(f.lang.rtl===!0)),O=r(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),N=r(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),M=r(()=>l.disable!==!0&&l.readonly!==!0&&O.value<N.value),E=r(()=>{if(l.step===0)return B=>B;const c=(String(l.step).trim().split(".")[1]||"").length;return B=>parseFloat(B.toFixed(c))}),y=r(()=>l.step===0?1:l.step),q=r(()=>M.value===!0?l.tabindex||0:-1),L=r(()=>l.max-l.min),H=r(()=>N.value-O.value),G=r(()=>re(O.value)),Z=r(()=>re(N.value)),Y=r(()=>l.vertical===!0?z.value===!0?"bottom":"top":z.value===!0?"right":"left"),$=r(()=>l.vertical===!0?"height":"width"),ue=r(()=>l.vertical===!0?"width":"height"),ce=r(()=>l.vertical===!0?"vertical":"horizontal"),de=r(()=>{const c={role:"slider","aria-valuemin":O.value,"aria-valuemax":N.value,"aria-orientation":ce.value,"data-step":l.step};return l.disable===!0?c["aria-disabled"]="true":l.readonly===!0&&(c["aria-readonly"]="true"),c}),te=r(()=>`q-slider q-slider${C.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(M.value===!0?" q-slider--editable":""))+(A.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(g.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+C.value:""));function le(c){const B="q-slider__"+c;return`${B} ${B}${C.value} ${B}${C.value}${j.value}`}function ae(c){const B="q-slider__"+c;return`${B} ${B}${C.value}`}const ne=r(()=>{const c=l.selectionColor||l.color;return"q-slider__selection absolute"+(c!==void 0?` text-${c}`:"")}),fe=r(()=>ae("markers")+" absolute overflow-hidden"),i=r(()=>ae("track-container")),h=r(()=>le("pin")),F=r(()=>le("label")),R=r(()=>le("text-container")),K=r(()=>le("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),b=r(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),x=r(()=>{const c={[ue.value]:l.trackSize};return l.trackImg!==void 0&&(c.backgroundImage=`url(${l.trackImg}) !important`),c}),D=r(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),m=r(()=>{const c=Z.value-G.value,B={[Y.value]:`${100*G.value}%`,[$.value]:c===0?"2px":`${100*c}%`};return l.innerTrackImg!==void 0&&(B.backgroundImage=`url(${l.innerTrackImg}) !important`),B});function U(c){const{min:B,max:P,step:Q}=l;let J=B+c*(P-B);if(Q>0){const ge=(J-O.value)%Q;J+=(Math.abs(ge)>=Q/2?(ge<0?-1:1)*Q:0)-ge}return J=E.value(J),Ue(J,O.value,N.value)}function re(c){return L.value===0?0:(c-l.min)/L.value}function Ce(c,B){const P=sl(c),Q=l.vertical===!0?Ue((P.top-B.top)/B.height,0,1):Ue((P.left-B.left)/B.width,0,1);return Ue(z.value===!0?1-Q:Q,G.value,Z.value)}const se=r(()=>an(l.markers)===!0?l.markers:y.value),Te=r(()=>{const c=[],B=se.value,P=l.max;let Q=l.min;do c.push(Q),Q+=B;while(Q<P);return c.push(P),c}),be=r(()=>{const c=` ${nl}${C.value}-`;return nl+`${c}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${c}${z.value===!0?"rtl":"ltr"}`}),me=r(()=>l.markerLabels===!1?null:Je(l.markerLabels).map((c,B)=>({index:B,value:c.value,label:c.label||c.value,classes:be.value+(c.classes!==void 0?" "+c.classes:""),style:{...ke(c.value),...c.style||{}}}))),Ee=r(()=>({markerList:me.value,markerMap:ve.value,classes:be.value,getStyle:ke})),Be=r(()=>{const c=H.value===0?"2px":100*se.value/H.value;return{...m.value,backgroundSize:l.vertical===!0?`2px ${c}%`:`${c}% 2px`}});function Je(c){if(c===!1)return null;if(c===!0)return Te.value.map(na);if(typeof c=="function")return Te.value.map(P=>{const Q=c(P);return bt(Q)===!0?{...Q,value:P}:{value:P,label:Q}});const B=({value:P})=>P>=l.min&&P<=l.max;return Array.isArray(c)===!0?c.map(P=>bt(P)===!0?P:{value:P}).filter(B):Object.keys(c).map(P=>{const Q=c[P],J=Number(P);return bt(Q)===!0?{...Q,value:J}:{value:J,label:Q}}).filter(B)}function ke(c){return{[Y.value]:`${100*(c-l.min)/L.value}%`}}const ve=r(()=>{if(l.markerLabels===!1)return null;const c={};return me.value.forEach(B=>{c[B.value]=B}),c});function oe(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](Ee.value);const c=s["marker-label"]||aa;return me.value.map(B=>c({marker:B,...Ee.value}))}const xe=r(()=>[[wn,Re,void 0,{[ce.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Re(c){c.isFinal===!0?(v.value!==void 0&&(a(c.evt),c.touch===!0&&e(!0),v.value=void 0,u("pan","end")),d.value=!1,A.value=!1):c.isFirst===!0?(v.value=o(c.evt),a(c.evt),e(),d.value=!0,u("pan","start")):(a(c.evt),e())}function ot(){A.value=!1}function it(c){a(c,o(c)),e(),k.value=!0,d.value=!0,document.addEventListener("mouseup",Fe,!0)}function Fe(){k.value=!1,d.value=!1,e(!0),ot(),document.removeEventListener("mouseup",Fe,!0)}function mt(c){a(c,o(c)),e(!0)}function ut(c){Bl.includes(c.keyCode)&&e(!0)}function pe(c){if(l.vertical===!0)return null;const B=f.lang.rtl!==l.reverse?1-c:c;return{transform:`translateX(calc(${2*B-1} * ${l.thumbSize} / 2 + ${50-100*B}%))`}}function Ae(c){const B=r(()=>k.value===!1&&(A.value===c.focusValue||A.value==="both")?" q-slider--focus":""),P=r(()=>`q-slider__thumb q-slider__thumb${C.value} q-slider__thumb${C.value}-${z.value===!0?"rtl":"ltr"} absolute non-selectable`+B.value+(c.thumbColor.value!==void 0?` text-${c.thumbColor.value}`:"")),Q=r(()=>({width:l.thumbSize,height:l.thumbSize,[Y.value]:`${100*c.ratio.value}%`,zIndex:A.value===c.focusValue?2:void 0})),J=r(()=>c.labelColor.value!==void 0?` text-${c.labelColor.value}`:""),ge=r(()=>pe(c.ratio.value)),Oe=r(()=>"q-slider__text"+(c.labelTextColor.value!==void 0?` text-${c.labelTextColor.value}`:""));return()=>{const Pe=[V("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[V("path",{d:l.thumbPath})]),V("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(Pe.push(V("div",{class:h.value+" absolute fit no-pointer-events"+J.value},[V("div",{class:F.value,style:{minWidth:l.thumbSize}},[V("div",{class:R.value,style:ge.value},[V("span",{class:Oe.value},c.label.value)])])])),l.name!==void 0&&l.disable!==!0&&S(Pe,"push")),V("div",{class:P.value,style:Q.value,...c.getNodeData()},Pe)}}function De(c,B,P,Q){const J=[];l.innerTrackColor!=="transparent"&&J.push(V("div",{key:"inner",class:D.value,style:m.value})),l.selectionColor!=="transparent"&&J.push(V("div",{key:"selection",class:ne.value,style:c.value})),l.markers!==!1&&J.push(V("div",{key:"marker",class:fe.value,style:Be.value})),Q(J);const ge=[fn("div",{key:"trackC",class:i.value,tabindex:B.value,...P.value},[V("div",{class:b.value,style:x.value},J)],"slide",M.value,()=>xe.value)];if(l.markerLabels!==!1){const Oe=l.switchMarkerLabelsSide===!0?"unshift":"push";ge[Oe](V("div",{key:"markerL",class:K.value},oe()))}return ge}return qe(()=>{document.removeEventListener("mouseup",Fe,!0)}),{state:{active:d,focus:A,preventFocus:k,dragging:v,editable:M,classes:te,tabindex:q,attributes:de,roundValueFn:E,keyStep:y,trackLen:L,innerMin:O,innerMinRatio:G,innerMax:N,innerMaxRatio:Z,positionProp:Y,sizeProp:$,isReversed:z},methods:{onActivate:it,onMobileClick:mt,onBlur:ot,onKeyup:ut,getContent:De,getThumbRenderFn:Ae,convertRatioToModel:U,convertModelToRatio:re,getDraggingRatio:Ce}}}const ra=()=>({}),sa=Ze({name:"QSlider",props:{...oa,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ia,setup(e,{emit:a}){const{proxy:{$q:o}}=Ve(),{state:n,methods:l}=ua({updateValue:C,updatePosition:z,getDragging:j,formAttrs:xn(e)}),u=T(null),s=T(0),f=T(0);function g(){f.value=e.modelValue===null?n.innerMin.value:Ue(e.modelValue,n.innerMin.value,n.innerMax.value)}ie(()=>`${e.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,g),g();const S=r(()=>l.convertModelToRatio(f.value)),d=r(()=>n.active.value===!0?s.value:S.value),k=r(()=>{const M={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(d.value-n.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(M.backgroundImage=`url(${e.selectionImg}) !important`),M}),A=l.getThumbRenderFn({focusValue:!0,getNodeData:ra,ratio:d,label:r(()=>e.labelValue!==void 0?e.labelValue:f.value),thumbColor:r(()=>e.thumbColor||e.color),labelColor:r(()=>e.labelColor),labelTextColor:r(()=>e.labelTextColor)}),v=r(()=>n.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:O,onBlur:l.onBlur,onKeydown:N,onKeyup:l.onKeyup});function C(M){f.value!==e.modelValue&&a("update:modelValue",f.value),M===!0&&a("change",f.value)}function j(){return u.value.getBoundingClientRect()}function z(M,E=n.dragging.value){const y=l.getDraggingRatio(M,E);f.value=l.convertRatioToModel(y),s.value=e.snap!==!0||e.step===0?y:l.convertModelToRatio(f.value)}function O(){n.focus.value=!0}function N(M){if(Bl.includes(M.keyCode)===!1)return;Me(M);const E=([34,33].includes(M.keyCode)?10:1)*n.keyStep.value,y=([34,37,40].includes(M.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*E;f.value=Ue(n.roundValueFn.value(f.value+y),n.innerMin.value,n.innerMax.value),C()}return()=>{const M=l.getContent(k,n.tabindex,v,E=>{E.push(A())});return V("div",{ref:u,class:n.classes.value+(e.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":e.modelValue},M)}}}),ca={setup(){const e=T([]),a=T([]),o=T(""),n=T([]),l=T([{username:"User",userId:o.value,email:"email@email.com",picture:"data:image/png;base64,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",token:"password"}]),u=T(null),s=T(""),f=T(null),g=T(0),S=T({lat:0,lng:0}),d=[{label:"All Ratings",value:null},{label:"Very Dissatisfied (1)",value:1},{label:"Dissatisfied (2)",value:2},{label:"Satisfied (3)",value:3},{label:"Very Satisfied (4)",value:4}],k=r(()=>a.value.filter(y=>f.value!==null&&y.stress_level!==f.value?!1:g.value>0&&S.value.lat&&S.value.lng?A(S.value.lat,S.value.lng,y.latitude,y.longitude)<=g.value:!0));function A(y,q,L,H){const Z=v(L-y),Y=v(H-q),$=Math.sin(Z/2)*Math.sin(Z/2)+Math.cos(v(y))*Math.cos(v(L))*Math.sin(Y/2)*Math.sin(Y/2);return 6371*(2*Math.atan2(Math.sqrt($),Math.sqrt(1-$)))}function v(y){return y*(Math.PI/180)}const C=async()=>{try{var y=await fetch("https://vibemapbe.com/location/location/locations/");if(!y.ok)throw new Error(`HTTP error! Status: ${y.status}`);const L=(await y.json()).map(H=>({id:H.id,stress_level:Math.round(H.stress_level),comment:H.comment,latitude:Number(H.latitude),longitude:Number(H.longitude)}));a.value=L,console.log(a.value)}catch(q){console.error("Error fetching data:",q)}};At(async()=>{s.value=localStorage.getItem("usertoken"),o.value=Number(localStorage.getItem("loggedInId")),await j(s.value),await C(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(y=>{S.value={lat:y.coords.latitude,lng:y.coords.longitude}},y=>{console.error("Error getting current location:",y)}),setTimeout(()=>{z()},1)});const j=async y=>{console.log(y);try{const q=await fetch("https://vibemapbe.com/auth/auth/me",{method:"GET",headers:{Authorization:`Bearer ${y}`}});if(!q.ok)throw new Error(`HTTP error! Status: ${q.status}`);const L=await q.json();l.value[0]={...l.value[0],username:L.email,email:L.email,userId:L.id,token:y}}catch(q){u.value=q.message||"Failed to fetch user data"}};function z(){if(window.google&&window.google.maps){O();return}const y=document.createElement("script");y.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY",y.async=!0,y.defer=!0,y.onload=O,document.head.appendChild(y)}function O(){n.value.forEach((y,q)=>{const L=k.value[q],H=new window.google.maps.Map(y,{center:{lat:L.latitude,lng:L.longitude},zoom:14,mapTypeControl:!1,zoomControl:!1,cameraControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,gestureHandling:"greedy"});new window.google.maps.Marker({position:{lat:L.latitude,lng:L.longitude},map:H,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:"#2C6E49",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"}})})}function N(y){return["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_satisfied"][y-1]||""}function M(y){return["red","orange","green","green-9"][y-1]||""}const E=T();return At(()=>{E.value=localStorage.getItem("isLoggedIn")}),{ratings:e,responses:a,filteredResponses:k,mapElements:n,getRatingIcon:N,getRatingColor:M,isLoggedIn:E,loggedInId:o,ratingFilter:f,distanceFilter:g,currentLocation:S,ratingOptions:d,calculateDistance:A}}},da={key:0,class:"text-primary text-center q-pa-md flex flex-center w-100"},fa={class:"filter-controls q-mb-md"},va={class:"rate-card-cont"},ma={class:"rate-details"},ga={class:"rate"},ha={class:"rate-reason"},ba={key:0,class:"distance"},Sa={key:1,class:"text-primary text-center q-pa-md flex flex-center w-100"};function ya(e,a,o,n,l,u){return We(),tt(Kt,null,[n.isLoggedIn?(We(),tt("div",da,[a[3]||(a[3]=we("div",{class:"text-h6"},"My ratings",-1)),we("div",fa,[Se(la,{modelValue:n.ratingFilter,"onUpdate:modelValue":a[0]||(a[0]=s=>n.ratingFilter=s),options:n.ratingOptions,label:"Filter by Rating",dense:"",outlined:"",class:"q-mr-sm",style:{"min-width":"150px"}},null,8,["modelValue","options"]),Se(fl,{class:"slider-label"},{default:je(()=>a[2]||(a[2]=[un("Max Distance (km)")])),_:1}),Se(sa,{modelValue:n.distanceFilter,"onUpdate:modelValue":a[1]||(a[1]=s=>n.distanceFilter=s),modelModifiers:{number:!0},min:0,max:50,label:"Max Distance (km)",dense:"",outlined:"",class:"q-mr-sm",style:{"min-width":"150px"}},null,8,["modelValue"])]),we("div",va,[(We(!0),tt(Kt,null,on(n.filteredResponses,(s,f)=>(We(),rn(Qt,{key:f,class:"myratings-card"},{default:je(()=>[Se(Wt,{class:"myratings-card-inner"},{default:je(()=>[we("div",{class:"map-elem",ref_for:!0,ref:g=>n.mapElements[f]=g},null,512),we("div",ma,[we("div",ga,[we("span",{class:"material-icons",style:sn({color:n.getRatingColor(s.stress_level)})},yt(n.getRatingIcon(s.stress_level)),5)]),we("div",ha,yt(s.comment),1),n.distanceFilter>0?(We(),tt("div",ba," Distance: "+yt(n.calculateDistance(n.currentLocation.lat,n.currentLocation.lng,s.latitude,s.longitude).toFixed(2))+" km ",1)):St("",!0)])]),_:2},1024)]),_:2},1024))),128))])])):St("",!0),n.isLoggedIn?St("",!0):(We(),tt("div",Sa,[Se(Qt,null,{default:je(()=>[Se(Wt,null,{default:je(()=>[a[4]||(a[4]=we("div",{class:"text-h7"},"Please sign up or log in to be able to rate your location.",-1)),Se(dl,{class:"q-gutter-sm w-100"},{default:je(()=>[Se(wt,{label:"Login",color:"primary",class:"col-6",to:"/profile"}),Se(wt,{label:"Signup",color:"secondary",outline:"",class:"col-6",to:"./signup"})]),_:1})]),_:1})]),_:1}),Se(wt,{class:"q-mt-xl text-primary",unelevated:"",to:"/",label:"Go Home","no-caps":""})]))],64)}const Fa=Mn(ca,[["render",ya],["__scopeId","data-v-b1726643"]]);export{Fa as default};
