import{u as al,a as Et,c as ol,d as il,r as Dt,e as $l,f as ul,n as Pt,g as _t,h as Wl,b as Ue}from"./use-key-composition-3-lq55uP.js";import{c as Ze,g as Ve,r as q,L as nt,M as Nt,d as ye,N as Bt,w as ue,o as At,b as qe,O as jl,l as Mt,P as Qt,v as Ul,Q as Gl,h as V,T as Xl,a as s,p as rl,R as Ft,S as sl,U as Vt,V as Me,m as Zl,W as Jl,q as Yl,n as en,X as tn,Y as ln,Z as et,_ as $e,$ as nn,a0 as an,a1 as St,G as tt,y as We,J as yt,E as we,D as he,z as je,H as Kt,I as on,F as un,K as st,x as rn,a2 as sn}from"./index-Dc3XsQDJ.js";import{h as cl,Q as cn,b as dn,c as fn}from"./QIcon-BNqyZMrf.js";import{Q as vn}from"./QChip-HtbOyx_3.js";import{Q as dl}from"./QItem-8Tm6I9Rk.js";import{Q as mn}from"./QItemSection-D33n-QfI.js";import{Q as fl}from"./QItemLabel-C-ihLgIM.js";import{l as gn,k as hn,u as vl,s as bn,e as ml,f as gl,h as hl,g as Sn,i as yn,j as pn,T as wn}from"./use-timeout-DREXQ8r7.js";import{u as bl,a as Sl,b as yl,c as Cn,d as kn,e as xn}from"./private.use-form-z7onOykR.js";import{g as pt,v as An,c as pl,Q as wt}from"./QBtn-D6vhheUv.js";import{Q as Mn}from"./QToggle-FFO9-HG0.js";import{Q as $t,a as Wt}from"./QCard-hYk3_Bqo.js";import{_ as Vn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-checkbox-BumbLdO4.js";const qn=Ze({name:"QField",inheritAttrs:!1,props:{...Et,tag:{type:String,default:"label"}},emits:al,setup(){return ol(il({tagProp:!0}))}}),Tn={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},En={...Tn,contextMenu:Boolean};function Bn({showing:e,avoidEmit:a,configureAnchorEl:o}){const{props:n,proxy:l,emit:u}=Ve(),r=q(null);let f=null;function g(v){return r.value===null?!1:v===void 0||v.touches===void 0||v.touches.length<=1}const w={};o===void 0&&(Object.assign(w,{hide(v){l.hide(v)},toggle(v){l.toggle(v),v.qAnchorHandled=!0},toggleKey(v){Bt(v,13)===!0&&w.toggle(v)},contextClick(v){l.hide(v),nt(v),ye(()=>{l.show(v),v.qAnchorHandled=!0})},prevent:nt,mobileTouch(v){if(w.mobileCleanup(v),g(v)!==!0)return;l.hide(v),r.value.classList.add("non-selectable");const S=v.target;Nt(w,"anchor",[[S,"touchmove","mobileCleanup","passive"],[S,"touchend","mobileCleanup","passive"],[S,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,l.show(v),v.qAnchorHandled=!0},300)},mobileCleanup(v){r.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&v!==void 0&&gn()}}),o=function(v=n.contextMenu){if(n.noParentEvent===!0||r.value===null)return;let S;v===!0?l.$q.platform.is.mobile===!0?S=[[r.value,"touchstart","mobileTouch","passive"]]:S=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:S=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Nt(w,"anchor",S)});function d(){jl(w,"anchor")}function x(v){for(r.value=v;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;o()}function A(){if(n.target===!1||n.target===""||l.$el.parentNode===null)r.value=null;else if(n.target===!0)x(l.$el.parentNode);else{let v=n.target;if(typeof n.target=="string")try{v=document.querySelector(n.target)}catch{v=void 0}v!=null?(r.value=v.$el||v,o()):(r.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return ue(()=>n.contextMenu,v=>{r.value!==null&&(d(),o(v))}),ue(()=>n.target,()=>{r.value!==null&&d(),A()}),ue(()=>n.noParentEvent,v=>{r.value!==null&&(v===!0?d():o())}),At(()=>{A(),a!==!0&&n.modelValue===!0&&r.value===null&&u("update:modelValue",!1)}),qe(()=>{f!==null&&clearTimeout(f),d()}),{anchorEl:r,canShow:g,anchorEvents:w}}function Fn(e,a){const o=q(null);let n;function l(f,g){const w=`${g!==void 0?"add":"remove"}EventListener`,d=g!==void 0?g:n;f!==window&&f[w]("scroll",d,Mt.passive),window[w]("scroll",d,Mt.passive),n=g}function u(){o.value!==null&&(l(o.value),o.value=null)}const r=ue(()=>e.noParentEvent,()=>{o.value!==null&&(u(),a())});return qe(r),{localScrollTarget:o,unconfigureScrollTarget:u,changeScrollEvent:l}}let In=1,Ln=document.body;function zn(e,a){const o=document.createElement("div");if(o.id=a!==void 0?`q-portal--${a}--${In++}`:e,Qt.globalNodes!==void 0){const n=Qt.globalNodes.class;n!==void 0&&(o.className=n)}return Ln.appendChild(o),o}function Rn(e){e.remove()}const at=[];function Hn(e,a){do{if(e.$options.name==="QMenu"){if(e.hide(a),e.$props.separateClosePopup===!0)return pt(e)}else if(e.__qPortal===!0){const o=pt(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(a),o):e}e=pt(e)}while(e!=null)}const On=Ze({name:"QPortal",setup(e,{slots:a}){return()=>a.default()}});function Dn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function wl(e,a,o,n){const l=q(!1),u=q(!1);let r=null;const f={},g=n==="dialog"&&Dn(e);function w(x){if(x===!0){Dt(f),u.value=!0;return}u.value=!1,l.value===!1&&(g===!1&&r===null&&(r=zn(!1,n)),l.value=!0,at.push(e.proxy),$l(f))}function d(x){if(u.value=!1,x!==!0)return;Dt(f),l.value=!1;const A=at.indexOf(e.proxy);A!==-1&&at.splice(A,1),r!==null&&(Rn(r),r=null)}return Ul(()=>{d(!0)}),e.proxy.__qPortal=!0,Gl(e.proxy,"contentEl",()=>a.value),{showPortal:w,hidePortal:d,portalIsActive:l,portalIsAccessible:u,renderPortal:()=>g===!0?o():l.value===!0?[V(Xl,{to:r},V(On,o))]:void 0}}const Cl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function kl(e,a=()=>{},o=()=>{}){return{transitionProps:s(()=>{const n=`q-transition--${e.transitionShow||a()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:s(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function xl(){let e;const a=Ve();function o(){e=void 0}return rl(o),qe(o),{removeTick:o,registerTick(n){e=n,ye(()=>{e===n&&(An(a)===!1&&e(),e=void 0)})}}}const Le=[];let Xe;function Pn(e){Xe=e.keyCode===27}function _n(){Xe===!0&&(Xe=!1)}function Nn(e){Xe===!0&&(Xe=!1,Bt(e,27)===!0&&Le[Le.length-1](e))}function Al(e){window[e]("keydown",Pn),window[e]("blur",_n),window[e]("keyup",Nn),Xe=!1}function Ml(e){Ft.is.desktop===!0&&(Le.push(e),Le.length===1&&Al("addEventListener"))}function dt(e){const a=Le.indexOf(e);a!==-1&&(Le.splice(a,1),Le.length===0&&Al("removeEventListener"))}const ze=[];function Vl(e){ze[ze.length-1](e)}function ql(e){Ft.is.desktop===!0&&(ze.push(e),ze.length===1&&document.body.addEventListener("focusin",Vl))}function qt(e){const a=ze.indexOf(e);a!==-1&&(ze.splice(a,1),ze.length===0&&document.body.removeEventListener("focusin",Vl))}const{notPassiveCapture:ft}=Mt,Re=[];function vt(e){const a=e.target;if(a===void 0||a.nodeType===8||a.classList.contains("no-pointer-events")===!0)return;let o=at.length-1;for(;o>=0;){const n=at[o].$;if(n.type.name==="QTooltip"){o--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;o--}for(let n=Re.length-1;n>=0;n--){const l=Re[n];if((l.anchorEl.value===null||l.anchorEl.value.contains(a)===!1)&&(a===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(a)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function Qn(e){Re.push(e),Re.length===1&&(document.addEventListener("mousedown",vt,ft),document.addEventListener("touchstart",vt,ft))}function jt(e){const a=Re.findIndex(o=>o===e);a!==-1&&(Re.splice(a,1),Re.length===0&&(document.removeEventListener("mousedown",vt,ft),document.removeEventListener("touchstart",vt,ft)))}let Ut,Gt;function Xt(e){const a=e.split(" ");return a.length!==2?!1:["top","center","bottom"].includes(a[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(a[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Kn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Tt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Tt[`${e}#ltr`]=e,Tt[`${e}#rtl`]=e});function Zt(e,a){const o=e.split(" ");return{vertical:o[0],horizontal:Tt[`${o[1]}#${a===!0?"rtl":"ltr"}`]}}function $n(e,a){let{top:o,left:n,right:l,bottom:u,width:r,height:f}=e.getBoundingClientRect();return a!==void 0&&(o-=a[1],n-=a[0],u+=a[1],l+=a[0],r+=a[0],f+=a[1]),{top:o,bottom:u,height:f,left:n,right:l,width:r,middle:n+(l-n)/2,center:o+(u-o)/2}}function Wn(e,a,o){let{top:n,left:l}=e.getBoundingClientRect();return n+=a.top,l+=a.left,o!==void 0&&(n+=o[1],l+=o[0]),{top:n,bottom:n+1,height:1,left:l,right:l+1,width:1,middle:l,center:n}}function jn(e,a){return{top:0,center:a/2,bottom:a,left:0,middle:e/2,right:e}}function Jt(e,a,o,n){return{top:e[o.vertical]-a[n.vertical],left:e[o.horizontal]-a[n.horizontal]}}function Tl(e,a=0){if(e.targetEl===null||e.anchorEl===null||a>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Tl(e,a+1)},10);return}const{targetEl:o,offset:n,anchorEl:l,anchorOrigin:u,selfOrigin:r,absoluteOffset:f,fit:g,cover:w,maxHeight:d,maxWidth:x}=e;if(Ft.is.ios===!0&&window.visualViewport!==void 0){const C=document.body.style,{offsetLeft:T,offsetTop:L}=window.visualViewport;T!==Ut&&(C.setProperty("--q-pe-left",T+"px"),Ut=T),L!==Gt&&(C.setProperty("--q-pe-top",L+"px"),Gt=L)}const{scrollLeft:A,scrollTop:v}=o,S=f===void 0?$n(l,w===!0?[0,0]:n):Wn(l,f,n);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:x,maxHeight:d,visibility:"visible"});const{offsetWidth:U,offsetHeight:R}=o,{elWidth:P,elHeight:N}=g===!0||w===!0?{elWidth:Math.max(S.width,U),elHeight:w===!0?Math.max(S.height,R):R}:{elWidth:U,elHeight:R};let M={maxWidth:x,maxHeight:d};(g===!0||w===!0)&&(M.minWidth=S.width+"px",w===!0&&(M.minHeight=S.height+"px")),Object.assign(o.style,M);const B=jn(P,N);let H=Jt(S,B,u,r);if(f===void 0||n===void 0)Ct(H,S,B,u,r);else{const{top:C,left:T}=H;Ct(H,S,B,u,r);let L=!1;if(H.top!==C){L=!0;const F=2*n[1];S.center=S.top-=F,S.bottom-=F+2}if(H.left!==T){L=!0;const F=2*n[0];S.middle=S.left-=F,S.right-=F+2}L===!0&&(H=Jt(S,B,u,r),Ct(H,S,B,u,r))}M={top:H.top+"px",left:H.left+"px"},H.maxHeight!==void 0&&(M.maxHeight=H.maxHeight+"px",S.height>H.maxHeight&&(M.minHeight=M.maxHeight)),H.maxWidth!==void 0&&(M.maxWidth=H.maxWidth+"px",S.width>H.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(o.style,M),o.scrollTop!==v&&(o.scrollTop=v),o.scrollLeft!==A&&(o.scrollLeft=A)}function Ct(e,a,o,n,l){const u=o.bottom,r=o.right,f=hn(),g=window.innerHeight-f,w=document.body.clientWidth;if(e.top<0||e.top+u>g)if(l.vertical==="center")e.top=a[n.vertical]>g/2?Math.max(0,g-u):0,e.maxHeight=Math.min(u,g);else if(a[n.vertical]>g/2){const d=Math.min(g,n.vertical==="center"?a.center:n.vertical===l.vertical?a.bottom:a.top);e.maxHeight=Math.min(u,d),e.top=Math.max(0,d-u)}else e.top=Math.max(0,n.vertical==="center"?a.center:n.vertical===l.vertical?a.top:a.bottom),e.maxHeight=Math.min(u,g-e.top);if(e.left<0||e.left+r>w)if(e.maxWidth=Math.min(r,w),l.horizontal==="middle")e.left=a[n.horizontal]>w/2?Math.max(0,w-r):0;else if(a[n.horizontal]>w/2){const d=Math.min(w,n.horizontal==="middle"?a.middle:n.horizontal===l.horizontal?a.right:a.left);e.maxWidth=Math.min(r,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?a.middle:n.horizontal===l.horizontal?a.left:a.right),e.maxWidth=Math.min(r,w-e.left)}const Un=Ze({name:"QMenu",inheritAttrs:!1,props:{...En,...ml,...bl,...Cl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Xt},self:{type:String,validator:Xt},offset:{type:Array,validator:Kn},scrollTarget:bn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...vl,"click","escapeKey"],setup(e,{slots:a,emit:o,attrs:n}){let l=null,u,r,f;const g=Ve(),{proxy:w}=g,{$q:d}=w,x=q(null),A=q(!1),v=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=Sl(e,d),{registerTick:U,removeTick:R}=xl(),{registerTimeout:P}=gl(),{transitionProps:N,transitionStyle:M}=kl(e),{localScrollTarget:B,changeScrollEvent:H,unconfigureScrollTarget:C}=Fn(e,I),{anchorEl:T,canShow:L}=Bn({showing:A}),{hide:F}=hl({showing:A,canShow:L,handleShow:fe,handleHide:i,hideOnRouteChange:v,processOnMount:!0}),{showPortal:X,hidePortal:Y,renderPortal:K}=wl(g,x,D,"menu"),te={anchorEl:T,innerRef:x,onClickOutside(m){if(e.persistent!==!0&&A.value===!0)return F(m),(m.type==="touchstart"||m.target.classList.contains("q-dialog__backdrop"))&&Me(m),!0}},se=s(()=>Zt(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),de=s(()=>e.cover===!0?se.value:Zt(e.self||"top start",d.lang.rtl)),le=s(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),ne=s(()=>e.autoClose===!0?{onClick:O}:{}),oe=s(()=>A.value===!0&&e.persistent!==!0);ue(oe,m=>{m===!0?(Ml(b),Qn(te)):(dt(b),jt(te))});function ae(){ul(()=>{let m=x.value;m&&m.contains(document.activeElement)!==!0&&(m=m.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.querySelector("[autofocus], [data-autofocus]")||m,m.focus({preventScroll:!0}))})}function fe(m){if(l=e.noRefocus===!1?document.activeElement:null,ql($),X(),I(),u=void 0,m!==void 0&&(e.touchPosition||e.contextMenu)){const G=sl(m);if(G.left!==void 0){const{top:re,left:Ce}=T.value.getBoundingClientRect();u={left:G.left-Ce,top:G.top-re}}}r===void 0&&(r=ue(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),U(()=>{k(),e.noFocus!==!0&&ae()}),P(()=>{d.platform.is.ios===!0&&(f=e.autoClose,x.value.click()),k(),X(!0),o("show",m)},e.transitionDuration)}function i(m){R(),Y(),h(!0),l!==null&&(m===void 0||m.qClickOutside!==!0)&&(((m&&m.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),P(()=>{Y(!0),o("hide",m)},e.transitionDuration)}function h(m){u=void 0,r!==void 0&&(r(),r=void 0),(m===!0||A.value===!0)&&(qt($),C(),jt(te),dt(b)),m!==!0&&(l=null)}function I(){(T.value!==null||e.scrollTarget!==void 0)&&(B.value=Sn(T.value,e.scrollTarget),H(B.value,k))}function O(m){f!==!0?(Hn(w,m),o("click",m)):f=!1}function $(m){oe.value===!0&&e.noFocus!==!0&&pl(x.value,m.target)!==!0&&ae()}function b(m){o("escapeKey"),F(m)}function k(){Tl({targetEl:x.value,offset:e.offset,anchorEl:T.value,anchorOrigin:se.value,selfOrigin:de.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(){return V(Vt,N.value,()=>A.value===!0?V("div",{role:"menu",...n,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+le.value,n.class],style:[n.style,M.value],...ne.value},cl(a.default)):null)}return qe(h),Object.assign(w,{focus:ae,updatePosition:k}),K}});let ct=0;const Gn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Yt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Xn=Ze({name:"QDialog",inheritAttrs:!1,props:{...ml,...Cl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...vl,"shake","click","escapeKey"],setup(e,{slots:a,emit:o,attrs:n}){const l=Ve(),u=q(null),r=q(!1),f=q(!1);let g=null,w=null,d,x;const A=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:v}=pn(),{registerTimeout:S}=gl(),{registerTick:U,removeTick:R}=xl(),{transitionProps:P,transitionStyle:N}=kl(e,()=>Yt[e.position][0],()=>Yt[e.position][1]),M=s(()=>N.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:B,hidePortal:H,portalIsAccessible:C,renderPortal:T}=wl(l,u,$,"dialog"),{hide:L}=hl({showing:r,hideOnRouteChange:A,handleShow:de,handleHide:le,processOnMount:!0}),{addToHistory:F,removeFromHistory:X}=yn(r,L,A),Y=s(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Gn[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),K=s(()=>r.value===!0&&e.seamless!==!0),te=s(()=>e.autoClose===!0?{onClick:h}:{}),se=s(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${K.value===!0?"modal":"seamless"}`,n.class]);ue(()=>e.maximized,b=>{r.value===!0&&i(b)}),ue(K,b=>{v(b),b===!0?(ql(O),Ml(ae)):(qt(O),dt(ae))});function de(b){F(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,i(e.maximized),B(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),U(ne)):R(),S(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:k,bottom:D}=document.activeElement.getBoundingClientRect(),{innerHeight:m}=window,G=window.visualViewport!==void 0?window.visualViewport.height:m;k>0&&D>G/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-G,D>=m?1/0:Math.ceil(document.scrollingElement.scrollTop+D-G/2))),document.activeElement.scrollIntoView()}x=!0,u.value.click(),x=!1}B(!0),f.value=!1,o("show",b)},e.transitionDuration)}function le(b){R(),X(),fe(!0),f.value=!0,H(),w!==null&&(((b&&b.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),S(()=>{H(!0),f.value=!1,o("hide",b)},e.transitionDuration)}function ne(b){ul(()=>{let k=u.value;if(k!==null){if(b!==void 0){const D=k.querySelector(b);if(D!==null){D.focus({preventScroll:!0});return}}k.contains(document.activeElement)!==!0&&(k=k.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||k.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||k.querySelector("[autofocus], [data-autofocus]")||k,k.focus({preventScroll:!0}))}})}function oe(b){b&&typeof b.focus=="function"?b.focus({preventScroll:!0}):ne(),o("shake");const k=u.value;k!==null&&(k.classList.remove("q-animate--scale"),k.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,u.value!==null&&(k.classList.remove("q-animate--scale"),ne())},170))}function ae(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&oe():(o("escapeKey"),L()))}function fe(b){g!==null&&(clearTimeout(g),g=null),(b===!0||r.value===!0)&&(i(!1),e.seamless!==!0&&(v(!1),qt(O),dt(ae))),b!==!0&&(w=null)}function i(b){b===!0?d!==!0&&(ct<1&&document.body.classList.add("q-body--dialog"),ct++,d=!0):d===!0&&(ct<2&&document.body.classList.remove("q-body--dialog"),ct--,d=!1)}function h(b){x!==!0&&(L(b),o("click",b))}function I(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?L(b):e.noShake!==!0&&oe()}function O(b){e.allowFocusOutside!==!0&&C.value===!0&&pl(u.value,b.target)!==!0&&ne('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:ne,shake:oe,__updateRefocusTarget(b){w=b||null}}),qe(fe);function $(){return V("div",{role:"dialog","aria-modal":K.value===!0?"true":"false",...n,class:se.value},[V(Vt,{name:"q-transition--fade",appear:!0},()=>K.value===!0?V("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:I}):null),V(Vt,P.value,()=>r.value===!0?V("div",{ref:u,class:Y.value,style:N.value,tabindex:-1,...te.value},cl(a.default)):null)])}return T}});let mt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,mt=e.scrollLeft>=0,e.remove()}const be=1e3,Zn=["start","center","end","start-force","center-force","end-force"],El=Array.prototype.filter,Jn=window.getComputedStyle(document.body).overflowAnchor===void 0?en:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];El.call(o,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const n=o[a];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Ge(e,a){return e+a}function kt(e,a,o,n,l,u,r,f){const g=e===window?document.scrollingElement||document.documentElement:e,w=l===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-r-f,scrollMaxSize:0,offsetStart:-r,offsetEnd:-f};if(l===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=g.scrollLeft,d.scrollViewSize+=g.clientWidth),d.scrollMaxSize=g.scrollWidth,u===!0&&(d.scrollStart=(mt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=g.scrollTop,d.scrollViewSize+=g.clientHeight),d.scrollMaxSize=g.scrollHeight),o!==null)for(let x=o.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=x[w]);if(n!==null)for(let x=n.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=x[w]);if(a!==e){const x=g.getBoundingClientRect(),A=a.getBoundingClientRect();l===!0?(d.offsetStart+=A.left-x.left,d.offsetEnd-=A.width):(d.offsetStart+=A.top-x.top,d.offsetEnd-=A.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function el(e,a,o,n){a==="end"&&(a=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(n===!0&&(a=(mt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):o===!0?(n===!0&&(a=(mt===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function lt(e,a,o,n){if(o>=n)return 0;const l=a.length,u=Math.floor(o/be),r=Math.floor((n-1)/be)+1;let f=e.slice(u,r).reduce(Ge,0);return o%be!==0&&(f-=a.slice(u*be,o).reduce(Ge,0)),n%be!==0&&n!==l&&(f-=a.slice(n,r*be).reduce(Ge,0)),f}const Yn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},tl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Yn};function ea({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:o,virtualScrollItemSizeComputed:n}){const l=Ve(),{props:u,emit:r,proxy:f}=l,{$q:g}=f;let w,d,x,A=[],v;const S=q(0),U=q(0),R=q({}),P=q(null),N=q(null),M=q(null),B=q({from:0,to:0}),H=s(()=>u.tableColspan!==void 0?u.tableColspan:100);n===void 0&&(n=s(()=>u.virtualScrollItemSize));const C=s(()=>n.value+";"+u.virtualScrollHorizontal),T=s(()=>C.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ue(T,()=>{le()}),ue(C,L);function L(){de(d,!0)}function F(i){de(i===void 0?d:i)}function X(i,h){const I=a();if(I==null||I.nodeType===8)return;const O=kt(I,o(),P.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);x!==O.scrollViewSize&&le(O.scrollViewSize),K(I,O,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,Zn.indexOf(h)!==-1?h:d!==-1&&i>d?"end":"start")}function Y(){const i=a();if(i==null||i.nodeType===8)return;const h=kt(i,o(),P.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),I=e.value-1,O=h.scrollMaxSize-h.offsetStart-h.offsetEnd-U.value;if(w===h.scrollStart)return;if(h.scrollMaxSize<=0){K(i,h,0,0);return}x!==h.scrollViewSize&&le(h.scrollViewSize),te(B.value.from);const $=Math.floor(h.scrollMaxSize-Math.max(h.scrollViewSize,h.offsetEnd)-Math.min(v[I],h.scrollViewSize/2));if($>0&&Math.ceil(h.scrollStart)>=$){K(i,h,I,h.scrollMaxSize-h.offsetEnd-A.reduce(Ge,0));return}let b=0,k=h.scrollStart-h.offsetStart,D=k;if(k<=O&&k+h.scrollViewSize>=S.value)k-=S.value,b=B.value.from,D=k;else for(let m=0;k>=A[m]&&b<I;m++)k-=A[m],b+=be;for(;k>0&&b<I;)k-=v[b],k>-h.scrollViewSize?(b++,D=k):D=v[b]+k;K(i,h,b,D)}function K(i,h,I,O,$){const b=typeof $=="string"&&$.indexOf("-force")!==-1,k=b===!0?$.replace("-force",""):$,D=k!==void 0?k:"start";let m=Math.max(0,I-R.value[D]),G=m+R.value.total;G>e.value&&(G=e.value,m=Math.max(0,G-R.value.total)),w=h.scrollStart;const re=m!==B.value.from||G!==B.value.to;if(re===!1&&k===void 0){oe(I);return}const{activeElement:Ce}=document,ce=M.value;re===!0&&ce!==null&&ce!==Ce&&ce.contains(Ce)===!0&&(ce.addEventListener("focusout",se),setTimeout(()=>{ce!==null&&ce.removeEventListener("focusout",se)})),Jn(ce,I-m);const Te=k!==void 0?v.slice(m,I).reduce(Ge,0):0;if(re===!0){const Se=G>=B.value.from&&m<=B.value.to?B.value.to:G;B.value={from:m,to:Se},S.value=lt(A,v,0,m),U.value=lt(A,v,G,e.value),requestAnimationFrame(()=>{B.value.to!==G&&w===h.scrollStart&&(B.value={from:B.value.from,to:G},U.value=lt(A,v,G,e.value))})}requestAnimationFrame(()=>{if(w!==h.scrollStart)return;re===!0&&te(m);const Se=v.slice(m,I).reduce(Ge,0),me=Se+h.offsetStart+S.value,Ee=me+v[I];let Be=me+O;if(k!==void 0){const Je=Se-Te,ke=h.scrollStart+Je;Be=b!==!0&&ke<me&&Ee<ke+h.scrollViewSize?ke:k==="end"?Ee-h.scrollViewSize:me-(k==="start"?0:Math.round((h.scrollViewSize-v[I])/2))}w=Be,el(i,Be,u.virtualScrollHorizontal,g.lang.rtl),oe(I)})}function te(i){const h=M.value;if(h){const I=El.call(h.children,m=>m.classList&&m.classList.contains("q-virtual-scroll--skip")===!1),O=I.length,$=u.virtualScrollHorizontal===!0?m=>m.getBoundingClientRect().width:m=>m.offsetHeight;let b=i,k,D;for(let m=0;m<O;){for(k=$(I[m]),m++;m<O&&I[m].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=$(I[m]),m++;D=k-v[b],D!==0&&(v[b]+=D,A[Math.floor(b/be)]+=D),b++}}}function se(){M.value!==null&&M.value!==void 0&&M.value.focus()}function de(i,h){const I=1*n.value;(h===!0||Array.isArray(v)===!1)&&(v=[]);const O=v.length;v.length=e.value;for(let b=e.value-1;b>=O;b--)v[b]=I;const $=Math.floor((e.value-1)/be);A=[];for(let b=0;b<=$;b++){let k=0;const D=Math.min((b+1)*be,e.value);for(let m=b*be;m<D;m++)k+=v[m];A.push(k)}d=-1,w=void 0,S.value=lt(A,v,0,B.value.from),U.value=lt(A,v,B.value.to,e.value),i>=0?(te(B.value.from),ye(()=>{X(i)})):ae()}function le(i){if(i===void 0&&typeof window<"u"){const k=a();k!=null&&k.nodeType!==8&&(i=kt(k,o(),P.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}x=i;const h=parseFloat(u.virtualScrollSliceRatioBefore)||0,I=parseFloat(u.virtualScrollSliceRatioAfter)||0,O=1+h+I,$=i===void 0||i<=0?1:Math.ceil(i/n.value),b=Math.max(1,$,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/O));R.value={total:Math.ceil(b*O),start:Math.ceil(b*h),center:Math.ceil(b*(.5+h)),end:Math.ceil(b*(1+h)),view:$}}function ne(i,h){const I=u.virtualScrollHorizontal===!0?"width":"height",O={["--q-virtual-scroll-item-"+I]:n.value+"px"};return[i==="tbody"?V(i,{class:"q-virtual-scroll__padding",key:"before",ref:P},[V("tr",[V("td",{style:{[I]:`${S.value}px`,...O},colspan:H.value})])]):V(i,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[I]:`${S.value}px`,...O}}),V(i,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},h.flat()),i==="tbody"?V(i,{class:"q-virtual-scroll__padding",key:"after",ref:N},[V("tr",[V("td",{style:{[I]:`${U.value}px`,...O},colspan:H.value})])]):V(i,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[I]:`${U.value}px`,...O}})]}function oe(i){d!==i&&(u.onVirtualScroll!==void 0&&r("virtualScroll",{index:i,from:B.value.from,to:B.value.to-1,direction:i<d?"decrease":"increase",ref:f}),d=i)}le();const ae=Zl(Y,g.platform.is.ios===!0?120:35);Jl(()=>{le()});let fe=!1;return rl(()=>{fe=!0}),Yl(()=>{if(fe!==!0)return;const i=a();w!==void 0&&i!==void 0&&i!==null&&i.nodeType!==8?el(i,w,u.virtualScrollHorizontal,g.lang.rtl):X(d)}),qe(()=>{ae.cancel()}),Object.assign(f,{scrollTo:X,reset:L,refresh:F}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:R,setVirtualScrollSize:le,onVirtualScrollEvt:ae,localResetVirtualScroll:de,padVirtualScroll:ne,scrollTo:X,reset:L,refresh:F}}const ll=e=>["add","add-unique","toggle"].includes(e),ta=".*+?^${}()|[]\\",la=Object.keys(Et);function xt(e,a){if(typeof e=="function")return e;const o=e!==void 0?e:a;return n=>n!==null&&typeof n=="object"&&o in n?n[o]:n}const na=Ze({name:"QSelect",inheritAttrs:!1,props:{...tl,...yl,...Et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ll},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:tl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...al,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:o}){const{proxy:n}=Ve(),{$q:l}=n,u=q(!1),r=q(!1),f=q(-1),g=q(""),w=q(!1),d=q(!1);let x=null,A=null,v,S,U,R=null,P,N,M,B;const H=q(null),C=q(null),T=q(null),L=q(null),F=q(null),X=Cn(e),Y=Wl(Lt),K=s(()=>Array.isArray(e.options)?e.options.length:0),te=s(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:le,padVirtualScroll:ne,onVirtualScrollEvt:oe,scrollTo:ae,setVirtualScrollSize:fe}=ea({virtualScrollLength:K,getVirtualScrollTarget:Fl,getVirtualScrollEl:Pe,virtualScrollItemSizeComputed:te}),i=il(),h=s(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,y=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const p=e.mapOptions===!0&&v!==void 0?v:[],z=y.map(j=>c(j,p));return e.modelValue===null&&t===!0?z.filter(j=>j!==null):z}return y}),I=s(()=>{const t={};return la.forEach(y=>{const p=e[y];p!==void 0&&(t[y]=p)}),t}),O=s(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),$=s(()=>_t(h.value)),b=s(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),k=s(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=s(()=>K.value===0),m=s(()=>h.value.map(t=>ie.value(t)).join(", ")),G=s(()=>e.displayValue!==void 0?e.displayValue:m.value),re=s(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ce=s(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(re.value))),ce=s(()=>i.focused.value===!0?e.tabindex:-1),Te=s(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${i.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${f.value}`),t}),Se=s(()=>({id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=s(()=>h.value.map((t,y)=>({index:y,opt:t,html:re.value(t),selected:!0,removeAtIndex:gt,toggleOption:pe,tabindex:ce.value}))),Ee=s(()=>{if(K.value===0)return[];const{from:t,to:y}=se.value;return e.options.slice(t,y).map((p,z)=>{const j=xe.value(p)===!0,Q=E(p)===!0,ee=t+z,Z={clickable:!0,active:Q,activeClass:ke.value,manualFocus:!0,focused:!1,disable:j,tabindex:-1,dense:e.optionsDense,dark:O.value,role:"option","aria-selected":Q===!0?"true":"false",id:`${i.targetUid.value}_${ee}`,onClick:()=>{pe(p)}};return j!==!0&&(f.value===ee&&(Z.focused=!0),l.platform.is.desktop===!0&&(Z.onMousemove=()=>{u.value===!0&&Ae(ee)})),{index:ee,opt:p,html:re.value(p),label:ie.value(p),selected:Z.active,focused:Z.focused,toggleOption:pe,setOptionIndex:Ae,itemProps:Z}})}),Be=s(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),Je=s(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ke=s(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ve=s(()=>xt(e.optionValue,"value")),ie=s(()=>xt(e.optionLabel,"label")),xe=s(()=>xt(e.optionDisable,"disable")),He=s(()=>h.value.map(ve.value)),ot=s(()=>{const t={onInput:Lt,onChange:Y,onKeydown:De,onKeyup:J,onKeypress:ge,onFocus:_,onClick(y){S===!0&&$e(y)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Y,t});ue(h,t=>{v=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(r.value!==!0&&u.value!==!0||$.value!==!0)&&(U!==!0&&Ke(),(r.value===!0||u.value===!0)&&_e(""))},{immediate:!0}),ue(()=>e.fillInput,Ke),ue(u,ht),ue(K,Kl);function it(t){return e.emitValue===!0?ve.value(t):t}function Fe(t){if(t!==-1&&t<h.value.length)if(e.multiple===!0){const y=e.modelValue.slice();o("remove",{index:t,value:y.splice(t,1)[0]}),o("update:modelValue",y)}else o("update:modelValue",null)}function gt(t){Fe(t),i.focus()}function ut(t,y){const p=it(t);if(e.multiple!==!0){e.fillInput===!0&&Ye(ie.value(t),!0,!0),o("update:modelValue",p);return}if(h.value.length===0){o("add",{index:0,value:p}),o("update:modelValue",e.multiple===!0?[p]:p);return}if(y===!0&&E(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const z=e.modelValue.slice();o("add",{index:z.length,value:p}),z.push(p),o("update:modelValue",z)}function pe(t,y){if(i.editable.value!==!0||t===void 0||xe.value(t)===!0)return;const p=ve.value(t);if(e.multiple!==!0){y!==!0&&(Ye(e.fillInput===!0?ie.value(t):"",!0,!0),Ie()),C.value!==null&&C.value.focus(),(h.value.length===0||et(ve.value(h.value[0]),p)!==!0)&&o("update:modelValue",e.emitValue===!0?p:t);return}if((S!==!0||w.value===!0)&&i.focus(),_(),h.value.length===0){const Q=e.emitValue===!0?p:t;o("add",{index:0,value:Q}),o("update:modelValue",e.multiple===!0?[Q]:Q);return}const z=e.modelValue.slice(),j=He.value.findIndex(Q=>et(Q,p));if(j!==-1)o("remove",{index:j,value:z.splice(j,1)[0]});else{if(e.maxValues!==void 0&&z.length>=e.maxValues)return;const Q=e.emitValue===!0?p:t;o("add",{index:z.length,value:Q}),z.push(Q)}o("update:modelValue",z)}function Ae(t){if(l.platform.is.desktop!==!0)return;const y=t!==-1&&t<K.value?t:-1;f.value!==y&&(f.value=y)}function Oe(t=1,y){if(u.value===!0){let p=f.value;do p=Pt(p+t,-1,K.value-1);while(p!==-1&&p!==f.value&&xe.value(e.options[p])===!0);f.value!==p&&(Ae(p),ae(p),y!==!0&&e.useInput===!0&&e.fillInput===!0&&rt(p>=0?ie.value(e.options[p]):P,!0))}}function c(t,y){const p=z=>et(ve.value(z),t);return e.options.find(p)||y.find(p)||t}function E(t){const y=ve.value(t);return He.value.find(p=>et(p,y))!==void 0}function _(t){e.useInput===!0&&C.value!==null&&(t===void 0||C.value===t.target&&t.target.value===m.value)&&C.value.select()}function W(t){Bt(t,27)===!0&&u.value===!0&&($e(t),Ie(),Ke()),o("keyup",t)}function J(t){const{value:y}=t.target;if(t.keyCode!==void 0){W(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),A!==null&&(clearTimeout(A),A=null),Ke(),typeof y=="string"&&y.length!==0){const p=y.toLocaleLowerCase(),z=Q=>{const ee=e.options.find(Z=>String(Q.value(Z)).toLocaleLowerCase()===p);return ee===void 0?!1:(h.value.indexOf(ee)===-1?pe(ee):Ie(),!0)},j=Q=>{z(ve)!==!0&&Q!==!0&&z(ie)!==!0&&_e(y,!0,()=>j(!0))};j()}else i.clearValue(t)}function ge(t){o("keypress",t)}function De(t){if(o("keydown",t),nn(t)===!0)return;const y=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),p=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||y===!0);if(t.keyCode===27){nt(t);return}if(t.keyCode===9&&p===!1){Ne();return}if(t.target===void 0||t.target.id!==i.targetUid.value||i.editable.value!==!0)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&u.value===!1){Me(t),Qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Fe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Me(t),f.value=-1,Oe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&de.value!==void 0&&(Me(t),f.value=Math.max(-1,Math.min(K.value,f.value+(t.keyCode===33?-1:1)*de.value.view)),Oe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Me(t),Oe(t.keyCode===38?-1:1,e.multiple));const z=K.value;if((M===void 0||B<Date.now())&&(M=""),z>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length!==0)){u.value!==!0&&Qe(t);const j=t.key.toLocaleLowerCase(),Q=M.length===1&&M[0]===j;B=Date.now()+1500,Q===!1&&(Me(t),M+=j);const ee=new RegExp("^"+M.split("").map(bt=>ta.indexOf(bt)!==-1?"\\"+bt:bt).join(".*"),"i");let Z=f.value;if(Q===!0||Z<0||ee.test(ie.value(e.options[Z]))!==!0)do Z=Pt(Z+1,-1,z-1);while(Z!==f.value&&(xe.value(e.options[Z])===!0||ee.test(ie.value(e.options[Z]))!==!0));f.value!==Z&&ye(()=>{Ae(Z),ae(Z),Z>=0&&e.useInput===!0&&e.fillInput===!0&&rt(ie.value(e.options[Z]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||p===!1))){if(t.keyCode!==9&&Me(t),f.value!==-1&&f.value<z){pe(e.options[f.value]);return}if(y===!0){const j=(Q,ee)=>{if(ee){if(ll(ee)!==!0)return}else ee=e.newValueMode;if(Ye("",e.multiple!==!0,!0),Q==null)return;(ee==="toggle"?pe:ut)(Q,ee==="add-unique"),e.multiple!==!0&&(C.value!==null&&C.value.focus(),Ie())};if(e.onNewValue!==void 0?o("newValue",g.value,j):j(g.value),e.multiple!==!0)return}u.value===!0?Ne():i.innerLoading.value!==!0&&Qe()}}function Pe(){return S===!0?F.value:T.value!==null&&T.value.contentEl!==null?T.value.contentEl:void 0}function Fl(){return Pe()}function Il(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?me.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?me.value.map((t,y)=>V(vn,{key:"option-"+y,removable:i.editable.value===!0&&xe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ce.value,onRemove(){t.removeAtIndex(y)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ie.value(t.opt)}))):[V("span",{[Ce.value===!0?"innerHTML":"textContent"]:G.value})]}function It(){if(D.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:g.value}):void 0;const t=a.option!==void 0?a.option:p=>V(dl,{key:p.index,...p.itemProps},()=>V(mn,()=>V(fl,()=>V("span",{[p.html===!0?"innerHTML":"textContent"]:p.label}))));let y=ne("div",Ee.value.map(t));return a["before-options"]!==void 0&&(y=a["before-options"]().concat(y)),dn(a["after-options"],y)}function Ll(t,y){const p=y===!0?{...Te.value,...i.splitAttrs.attributes.value}:void 0,z={ref:y===!0?C:void 0,key:"i_t",class:b.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...p,id:y===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ot.value};return t!==!0&&S===!0&&(Array.isArray(z.class)===!0?z.class=[...z.class,"no-pointer-events"]:z.class+=" no-pointer-events"),V("input",z)}function Lt(t){x!==null&&(clearTimeout(x),x=null),A!==null&&(clearTimeout(A),A=null),!(t&&t.target&&t.target.qComposing===!0)&&(rt(t.target.value||""),U=!0,P=g.value,i.focused.value!==!0&&(S!==!0||w.value===!0)&&i.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,_e(g.value)},e.inputDebounce)))}function rt(t,y){g.value!==t&&(g.value=t,y===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):A=setTimeout(()=>{A=null,o("inputValue",t)},e.inputDebounce))}function Ye(t,y,p){U=p!==!0,e.useInput===!0&&(rt(t,!0),(y===!0||p!==!0)&&(P=t),y!==!0&&_e(t))}function _e(t,y,p){if(e.onFilter===void 0||y!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?o("filterAbort"):(i.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&h.value.length!==0&&U!==!0&&t===ie.value(h.value[0])&&(t="");const z=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);R!==null&&clearTimeout(R),R=z,o("filter",t,(j,Q)=>{(y===!0||i.focused.value===!0)&&R===z&&(clearTimeout(R),typeof j=="function"&&j(),d.value=!1,ye(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(y===!0?u.value===!0&&Ie():u.value===!0?ht(!0):u.value=!0),typeof Q=="function"&&ye(()=>{Q(n)}),typeof p=="function"&&ye(()=>{p(n)})}))},()=>{i.focused.value===!0&&R===z&&(clearTimeout(R),i.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function zl(){return V(Un,{ref:T,class:k.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:O.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Je.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Se.value,onScrollPassive:oe,onBeforeShow:Rt,onBeforeHide:Rl,onShow:Hl},It)}function Rl(t){Ht(t),Ne()}function Hl(){fe()}function Ol(t){$e(t),C.value!==null&&C.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Dl(t){$e(t),ye(()=>{w.value=!1})}function Pl(){const t=[V(qn,{class:`col-auto ${i.fieldClass.value}`,...I.value,for:i.targetUid.value,dark:O.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...i.splitAttrs.listeners.value,onFocus:Ol,onBlur:Dl},{...a,rawControl:()=>i.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(V("div",{ref:F,class:k.value+" scroll",style:e.popupContentStyle,...Se.value,onClick:nt,onScrollPassive:oe},It())),V(Xn,{ref:L,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Rt,onBeforeHide:_l,onHide:Nl,onShow:Ql},()=>V("div",{class:"q-select__dialog"+(O.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},t))}function _l(t){Ht(t),L.value!==null&&L.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function Nl(t){Ie(),i.focused.value===!1&&o("blur",t),Ke()}function Ql(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&C.value!==null&&C.value!==t&&C.value.focus(),fe()}function Ne(){r.value!==!0&&(f.value=-1,u.value===!0&&(u.value=!1),i.focused.value===!1&&(R!==null&&(clearTimeout(R),R=null),i.innerLoading.value===!0&&(o("filterAbort"),i.innerLoading.value=!1,d.value=!1)))}function Qe(t){i.editable.value===!0&&(S===!0?(i.onControlFocusin(t),r.value=!0,ye(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?_e(g.value):(D.value!==!0||a["no-option"]!==void 0)&&(u.value=!0))}function Ie(){r.value=!1,Ne()}function Ke(){e.useInput===!0&&Ye(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&ie.value(h.value[0])||"",!0,!0)}function ht(t){let y=-1;if(t===!0){if(h.value.length!==0){const p=ve.value(h.value[0]);y=e.options.findIndex(z=>et(ve.value(z),p))}le(y)}Ae(y)}function Kl(t,y){u.value===!0&&i.innerLoading.value===!1&&(le(-1,!0),ye(()=>{u.value===!0&&i.innerLoading.value===!1&&(t>y?le():ht(!0))}))}function zt(){r.value===!1&&T.value!==null&&T.value.updatePosition()}function Rt(t){t!==void 0&&$e(t),o("popupShow",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function Ht(t){t!==void 0&&$e(t),o("popupHide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function Ot(){S=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),N=l.platform.is.ios===!0&&S===!0&&e.useInput===!0?"fade":e.transitionShow}return tn(Ot),ln(zt),Ot(),qe(()=>{x!==null&&clearTimeout(x),A!==null&&clearTimeout(A)}),Object.assign(n,{showPopup:Qe,hidePopup:Ie,removeAtIndex:Fe,add:ut,toggleOption:pe,getOptionIndex:()=>f.value,setOptionIndex:Ae,moveOptionSelection:Oe,filter:_e,updateMenuPosition:zt,updateInputValue:Ye,isOptionSelected:E,getEmittingOptionValue:it,isOptionDisabled:(...t)=>xe.value.apply(null,t)===!0,getOptionValue:(...t)=>ve.value.apply(null,t),getOptionLabel:(...t)=>ie.value.apply(null,t)}),Object.assign(i,{innerValue:h,fieldClass:s(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:H,targetRef:C,hasValue:$,showPopup:Qe,floatingLabel:s(()=>e.hideSelected!==!0&&$.value===!0||typeof g.value=="number"||g.value.length!==0||_t(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(r.value===!0||D.value!==!0||a["no-option"]!==void 0))return S===!0?Pl():zl();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{Ke(),Ne()})},onClick(t){if(nt(t),S!==!0&&u.value===!0){Ne(),C.value!==null&&C.value.focus();return}Qe(t)}},getControl:t=>{const y=Il(),p=t===!0||r.value!==!0||S!==!0;if(e.useInput===!0)y.push(Ll(t,p));else if(i.editable.value===!0){const j=p===!0?Te.value:void 0;y.push(V("input",{ref:p===!0?C:void 0,key:"d_t",class:"q-select__focus-target",id:p===!0?i.targetUid.value:void 0,value:G.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...j,onKeydown:De,onKeyup:W,onKeypress:ge})),p===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&y.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:J}))}if(X.value!==void 0&&e.disable!==!0&&He.value.length!==0){const j=He.value.map(Q=>V("option",{value:Q,selected:!0}));y.push(V("select",{class:"hidden",name:X.value,multiple:e.multiple},j))}const z=e.useInput===!0||p!==!0?void 0:i.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...z,...i.splitAttrs.listeners.value},y)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[V(cn,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Be.value})]:null}),ol(i)}}),nl="q-slider__marker-labels",aa=e=>({value:e}),oa=({marker:e})=>V("div",{key:e.value,style:e.style,class:e.classes},e.label),Bl=[34,37,40,33,39,38],ia={...bl,...yl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ua=["pan","update:modelValue","change"];function ra({updateValue:e,updatePosition:a,getDragging:o,formAttrs:n}){const{props:l,emit:u,slots:r,proxy:{$q:f}}=Ve(),g=Sl(l,f),w=kn(n),d=q(!1),x=q(!1),A=q(!1),v=q(!1),S=s(()=>l.vertical===!0?"--v":"--h"),U=s(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),R=s(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(f.lang.rtl===!0)),P=s(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),N=s(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),M=s(()=>l.disable!==!0&&l.readonly!==!0&&P.value<N.value),B=s(()=>{if(l.step===0)return E=>E;const c=(String(l.step).trim().split(".")[1]||"").length;return E=>parseFloat(E.toFixed(c))}),H=s(()=>l.step===0?1:l.step),C=s(()=>M.value===!0?l.tabindex||0:-1),T=s(()=>l.max-l.min),L=s(()=>N.value-P.value),F=s(()=>re(P.value)),X=s(()=>re(N.value)),Y=s(()=>l.vertical===!0?R.value===!0?"bottom":"top":R.value===!0?"right":"left"),K=s(()=>l.vertical===!0?"height":"width"),te=s(()=>l.vertical===!0?"width":"height"),se=s(()=>l.vertical===!0?"vertical":"horizontal"),de=s(()=>{const c={role:"slider","aria-valuemin":P.value,"aria-valuemax":N.value,"aria-orientation":se.value,"data-step":l.step};return l.disable===!0?c["aria-disabled"]="true":l.readonly===!0&&(c["aria-readonly"]="true"),c}),le=s(()=>`q-slider q-slider${S.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(M.value===!0?" q-slider--editable":""))+(A.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(g.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+S.value:""));function ne(c){const E="q-slider__"+c;return`${E} ${E}${S.value} ${E}${S.value}${U.value}`}function oe(c){const E="q-slider__"+c;return`${E} ${E}${S.value}`}const ae=s(()=>{const c=l.selectionColor||l.color;return"q-slider__selection absolute"+(c!==void 0?` text-${c}`:"")}),fe=s(()=>oe("markers")+" absolute overflow-hidden"),i=s(()=>oe("track-container")),h=s(()=>ne("pin")),I=s(()=>ne("label")),O=s(()=>ne("text-container")),$=s(()=>ne("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),b=s(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),k=s(()=>{const c={[te.value]:l.trackSize};return l.trackImg!==void 0&&(c.backgroundImage=`url(${l.trackImg}) !important`),c}),D=s(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),m=s(()=>{const c=X.value-F.value,E={[Y.value]:`${100*F.value}%`,[K.value]:c===0?"2px":`${100*c}%`};return l.innerTrackImg!==void 0&&(E.backgroundImage=`url(${l.innerTrackImg}) !important`),E});function G(c){const{min:E,max:_,step:W}=l;let J=E+c*(_-E);if(W>0){const ge=(J-P.value)%W;J+=(Math.abs(ge)>=W/2?(ge<0?-1:1)*W:0)-ge}return J=B.value(J),Ue(J,P.value,N.value)}function re(c){return T.value===0?0:(c-l.min)/T.value}function Ce(c,E){const _=sl(c),W=l.vertical===!0?Ue((_.top-E.top)/E.height,0,1):Ue((_.left-E.left)/E.width,0,1);return Ue(R.value===!0?1-W:W,F.value,X.value)}const ce=s(()=>an(l.markers)===!0?l.markers:H.value),Te=s(()=>{const c=[],E=ce.value,_=l.max;let W=l.min;do c.push(W),W+=E;while(W<_);return c.push(_),c}),Se=s(()=>{const c=` ${nl}${S.value}-`;return nl+`${c}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${c}${R.value===!0?"rtl":"ltr"}`}),me=s(()=>l.markerLabels===!1?null:Je(l.markerLabels).map((c,E)=>({index:E,value:c.value,label:c.label||c.value,classes:Se.value+(c.classes!==void 0?" "+c.classes:""),style:{...ke(c.value),...c.style||{}}}))),Ee=s(()=>({markerList:me.value,markerMap:ve.value,classes:Se.value,getStyle:ke})),Be=s(()=>{const c=L.value===0?"2px":100*ce.value/L.value;return{...m.value,backgroundSize:l.vertical===!0?`2px ${c}%`:`${c}% 2px`}});function Je(c){if(c===!1)return null;if(c===!0)return Te.value.map(aa);if(typeof c=="function")return Te.value.map(_=>{const W=c(_);return St(W)===!0?{...W,value:_}:{value:_,label:W}});const E=({value:_})=>_>=l.min&&_<=l.max;return Array.isArray(c)===!0?c.map(_=>St(_)===!0?_:{value:_}).filter(E):Object.keys(c).map(_=>{const W=c[_],J=Number(_);return St(W)===!0?{...W,value:J}:{value:J,label:W}}).filter(E)}function ke(c){return{[Y.value]:`${100*(c-l.min)/T.value}%`}}const ve=s(()=>{if(l.markerLabels===!1)return null;const c={};return me.value.forEach(E=>{c[E.value]=E}),c});function ie(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](Ee.value);const c=r["marker-label"]||oa;return me.value.map(E=>c({marker:E,...Ee.value}))}const xe=s(()=>[[wn,He,void 0,{[se.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function He(c){c.isFinal===!0?(v.value!==void 0&&(a(c.evt),c.touch===!0&&e(!0),v.value=void 0,u("pan","end")),d.value=!1,A.value=!1):c.isFirst===!0?(v.value=o(c.evt),a(c.evt),e(),d.value=!0,u("pan","start")):(a(c.evt),e())}function ot(){A.value=!1}function it(c){a(c,o(c)),e(),x.value=!0,d.value=!0,document.addEventListener("mouseup",Fe,!0)}function Fe(){x.value=!1,d.value=!1,e(!0),ot(),document.removeEventListener("mouseup",Fe,!0)}function gt(c){a(c,o(c)),e(!0)}function ut(c){Bl.includes(c.keyCode)&&e(!0)}function pe(c){if(l.vertical===!0)return null;const E=f.lang.rtl!==l.reverse?1-c:c;return{transform:`translateX(calc(${2*E-1} * ${l.thumbSize} / 2 + ${50-100*E}%))`}}function Ae(c){const E=s(()=>x.value===!1&&(A.value===c.focusValue||A.value==="both")?" q-slider--focus":""),_=s(()=>`q-slider__thumb q-slider__thumb${S.value} q-slider__thumb${S.value}-${R.value===!0?"rtl":"ltr"} absolute non-selectable`+E.value+(c.thumbColor.value!==void 0?` text-${c.thumbColor.value}`:"")),W=s(()=>({width:l.thumbSize,height:l.thumbSize,[Y.value]:`${100*c.ratio.value}%`,zIndex:A.value===c.focusValue?2:void 0})),J=s(()=>c.labelColor.value!==void 0?` text-${c.labelColor.value}`:""),ge=s(()=>pe(c.ratio.value)),De=s(()=>"q-slider__text"+(c.labelTextColor.value!==void 0?` text-${c.labelTextColor.value}`:""));return()=>{const Pe=[V("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[V("path",{d:l.thumbPath})]),V("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(Pe.push(V("div",{class:h.value+" absolute fit no-pointer-events"+J.value},[V("div",{class:I.value,style:{minWidth:l.thumbSize}},[V("div",{class:O.value,style:ge.value},[V("span",{class:De.value},c.label.value)])])])),l.name!==void 0&&l.disable!==!0&&w(Pe,"push")),V("div",{class:_.value,style:W.value,...c.getNodeData()},Pe)}}function Oe(c,E,_,W){const J=[];l.innerTrackColor!=="transparent"&&J.push(V("div",{key:"inner",class:D.value,style:m.value})),l.selectionColor!=="transparent"&&J.push(V("div",{key:"selection",class:ae.value,style:c.value})),l.markers!==!1&&J.push(V("div",{key:"marker",class:fe.value,style:Be.value})),W(J);const ge=[fn("div",{key:"trackC",class:i.value,tabindex:E.value,..._.value},[V("div",{class:b.value,style:k.value},J)],"slide",M.value,()=>xe.value)];if(l.markerLabels!==!1){const De=l.switchMarkerLabelsSide===!0?"unshift":"push";ge[De](V("div",{key:"markerL",class:$.value},ie()))}return ge}return qe(()=>{document.removeEventListener("mouseup",Fe,!0)}),{state:{active:d,focus:A,preventFocus:x,dragging:v,editable:M,classes:le,tabindex:C,attributes:de,roundValueFn:B,keyStep:H,trackLen:T,innerMin:P,innerMinRatio:F,innerMax:N,innerMaxRatio:X,positionProp:Y,sizeProp:K,isReversed:R},methods:{onActivate:it,onMobileClick:gt,onBlur:ot,onKeyup:ut,getContent:Oe,getThumbRenderFn:Ae,convertRatioToModel:G,convertModelToRatio:re,getDraggingRatio:Ce}}}const sa=()=>({}),ca=Ze({name:"QSlider",props:{...ia,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ua,setup(e,{emit:a}){const{proxy:{$q:o}}=Ve(),{state:n,methods:l}=ra({updateValue:S,updatePosition:R,getDragging:U,formAttrs:xn(e)}),u=q(null),r=q(0),f=q(0);function g(){f.value=e.modelValue===null?n.innerMin.value:Ue(e.modelValue,n.innerMin.value,n.innerMax.value)}ue(()=>`${e.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,g),g();const w=s(()=>l.convertModelToRatio(f.value)),d=s(()=>n.active.value===!0?r.value:w.value),x=s(()=>{const M={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(d.value-n.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(M.backgroundImage=`url(${e.selectionImg}) !important`),M}),A=l.getThumbRenderFn({focusValue:!0,getNodeData:sa,ratio:d,label:s(()=>e.labelValue!==void 0?e.labelValue:f.value),thumbColor:s(()=>e.thumbColor||e.color),labelColor:s(()=>e.labelColor),labelTextColor:s(()=>e.labelTextColor)}),v=s(()=>n.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:P,onBlur:l.onBlur,onKeydown:N,onKeyup:l.onKeyup});function S(M){f.value!==e.modelValue&&a("update:modelValue",f.value),M===!0&&a("change",f.value)}function U(){return u.value.getBoundingClientRect()}function R(M,B=n.dragging.value){const H=l.getDraggingRatio(M,B);f.value=l.convertRatioToModel(H),r.value=e.snap!==!0||e.step===0?H:l.convertModelToRatio(f.value)}function P(){n.focus.value=!0}function N(M){if(Bl.includes(M.keyCode)===!1)return;Me(M);const B=([34,33].includes(M.keyCode)?10:1)*n.keyStep.value,H=([34,37,40].includes(M.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*B;f.value=Ue(n.roundValueFn.value(f.value+H),n.innerMin.value,n.innerMax.value),S()}return()=>{const M=l.getContent(x,n.tabindex,v,B=>{B.push(A())});return V("div",{ref:u,class:n.classes.value+(e.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":e.modelValue},M)}}}),da={setup(){const e=q([]),a=q([]),o=q(""),n=q([]),l=q([{username:"User",userId:o.value,email:"email@email.com",picture:"data:image/png;base64,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",token:"password"}]),u=q(null),r=q(""),f=q(null),g=q(50),w=q(!1),d=q({lat:52.377956,lng:4.89707}),x=[{label:"All Ratings",value:null},{label:"Very Dissatisfied (1)",value:1},{label:"Dissatisfied (2)",value:2},{label:"Satisfied (3)",value:3},{label:"Very Satisfied (4)",value:4}],A=s(()=>{const T=a.value.filter(F=>!(f.value!==null&&F.stress_level!==f.value||w.value&&F.userId!==o.value)).map(F=>{const X=d.value.lat&&d.value.lng?v(d.value.lat,d.value.lng,F.latitude,F.longitude):0;return{...F,distance:X}});return(g.value>0?T.filter(F=>F.distance<=g.value):T).sort((F,X)=>F.distance-X.distance)});function v(C,T,L,F){const Y=S(L-C),K=S(F-T),te=Math.sin(Y/2)*Math.sin(Y/2)+Math.cos(S(C))*Math.cos(S(L))*Math.sin(K/2)*Math.sin(K/2);return 6371*(2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te)))}function S(C){return C*(Math.PI/180)}const U=async()=>{try{var C=await fetch("https://vibemapbe.com/location/location/locations/");if(!C.ok)throw new Error(`HTTP error! Status: ${C.status}`);const L=(await C.json()).map(F=>({userId:F.user_id,id:F.id,stress_level:Math.round(F.stress_level),comment:F.comment,latitude:Number(F.latitude),longitude:Number(F.longitude)}));a.value=L,console.log(a.value)}catch(T){console.error("Error fetching data:",T)}};At(async()=>{r.value=localStorage.getItem("usertoken"),o.value=Number(localStorage.getItem("loggedInId")),await R(r.value),await U(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(C=>{d.value={lat:C.coords.latitude,lng:C.coords.longitude}},C=>{console.error("Error getting current location:",C)}),setTimeout(()=>{P()},1)});const R=async C=>{console.log(C);try{const T=await fetch("https://vibemapbe.com/auth/auth/me",{method:"GET",headers:{Authorization:`Bearer ${C}`}});if(!T.ok)throw new Error(`HTTP error! Status: ${T.status}`);const L=await T.json();l.value[0]={...l.value[0],username:L.email,email:L.email,userId:L.id,token:C}}catch(T){u.value=T.message||"Failed to fetch user data"}};function P(){if(window.google&&window.google.maps){N();return}const C=document.createElement("script");C.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY",C.async=!0,C.defer=!0,C.onload=N,document.head.appendChild(C)}function N(){n.value.forEach((C,T)=>{const L=A.value[T],F=new window.google.maps.Map(C,{center:{lat:L.latitude,lng:L.longitude},zoom:14,mapTypeControl:!1,zoomControl:!1,cameraControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,gestureHandling:"greedy"});new window.google.maps.Marker({position:{lat:L.latitude,lng:L.longitude},map:F,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:"#2C6E49",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"}})})}function M(C){return["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_satisfied"][C-1]||""}function B(C){return["red","orange","green","green-9"][C-1]||""}const H=q();return At(()=>{H.value=localStorage.getItem("isLoggedIn")}),{ratings:e,responses:a,filteredResponses:A,mapElements:n,getRatingIcon:M,getRatingColor:B,isLoggedIn:H,loggedInId:o,ratingFilter:f,distanceFilter:g,currentLocation:d,ratingOptions:x,calculateDistance:v,showOnlyMyRatings:w}}},fa={key:0,class:"text-primary text-center q-pa-md flex flex-center w-100"},va={class:"filter-controls q-mb-md"},ma={class:"rate-card-cont"},ga={class:"rate-details"},ha={class:"rate"},ba={class:"rate-reason"},Sa={key:0,class:"distance"},ya={key:1,class:"text-primary text-center q-pa-md flex flex-center w-100"};function pa(e,a,o,n,l,u){return We(),tt(Kt,null,[n.isLoggedIn?(We(),tt("div",fa,[a[3]||(a[3]=we("div",{class:"text-h6"},"Ratings",-1)),we("div",va,[he(na,{modelValue:n.ratingFilter,"onUpdate:modelValue":a[0]||(a[0]=r=>n.ratingFilter=r),options:n.ratingOptions,label:"Filter by Rating",dense:"",outlined:"",class:"q-mr-sm col-6",style:{"min-width":"150px"}},null,8,["modelValue","options"]),he(Mn,{modelValue:n.showOnlyMyRatings,"onUpdate:modelValue":a[1]||(a[1]=r=>n.showOnlyMyRatings=r),label:"Show only my ratings",class:"q-mr-sm col-6"},null,8,["modelValue"]),he(fl,{class:"slider-label col-12"},{default:je(()=>[un("Max distance: "+st(n.distanceFilter)+" km",1)]),_:1}),he(ca,{modelValue:n.distanceFilter,"onUpdate:modelValue":a[2]||(a[2]=r=>n.distanceFilter=r),modelModifiers:{number:!0},min:0,max:50,label:"Max Distance (km)",dense:"",outlined:"",class:"q-mr-sm",style:{"min-width":"150px"}},null,8,["modelValue"])]),we("div",ma,[(We(!0),tt(Kt,null,on(n.filteredResponses,(r,f)=>(We(),rn($t,{key:f,class:"myratings-card"},{default:je(()=>[he(Wt,{class:"myratings-card-inner"},{default:je(()=>[we("div",{class:"map-elem",ref_for:!0,ref:g=>n.mapElements[f]=g},null,512),we("div",ga,[we("div",ha,[we("span",{class:"material-icons",style:sn({color:n.getRatingColor(r.stress_level)})},st(n.getRatingIcon(r.stress_level)),5)]),we("div",ba,st(r.comment),1),n.distanceFilter>0?(We(),tt("div",Sa," Distance: "+st(n.calculateDistance(n.currentLocation.lat,n.currentLocation.lng,r.latitude,r.longitude).toFixed(2))+" km ",1)):yt("",!0)])]),_:2},1024)]),_:2},1024))),128))])])):yt("",!0),n.isLoggedIn?yt("",!0):(We(),tt("div",ya,[he($t,null,{default:je(()=>[he(Wt,null,{default:je(()=>[a[4]||(a[4]=we("div",{class:"text-h7"},"Please sign up or log in to be able to rate your location.",-1)),he(dl,{class:"q-gutter-sm w-100"},{default:je(()=>[he(wt,{label:"Login",color:"primary",class:"col-6",to:"/profile"}),he(wt,{label:"Signup",color:"secondary",outline:"",class:"col-6",to:"./signup"})]),_:1})]),_:1})]),_:1}),he(wt,{class:"q-mt-xl text-primary",unelevated:"",to:"/",label:"Go Home","no-caps":""})]))],64)}const za=Vn(da,[["render",pa]]);export{za as default};
