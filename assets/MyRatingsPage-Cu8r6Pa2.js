import{u as ol,a as Et,c as al,d as il,r as Dt,e as $l,f as ul,n as Pt,g as _t,h as Wl,b as Ue}from"./use-key-composition-Ciw9u5mC.js";import{c as Ze,g as Ve,r as q,L as nt,M as Nt,d as ye,N as Bt,w as ue,o as At,b as qe,O as jl,l as Mt,P as Qt,v as Ul,Q as Gl,h as V,T as Xl,a as s,p as rl,R as Ft,S as sl,U as Vt,V as Me,m as Zl,W as Jl,q as Yl,n as en,X as tn,Y as ln,Z as et,_ as $e,$ as nn,a0 as on,a1 as St,G as tt,y as We,J as yt,E as we,D as he,z as je,H as Kt,I as an,F as un,K as st,x as rn,a2 as sn}from"./index-Be8ChGiU.js";import{h as cl,Q as cn,b as dn,c as fn}from"./QIcon-CA-t86hN.js";import{Q as vn}from"./QChip-k6UDb--B.js";import{Q as dl}from"./QItem-DJvT8Hrs.js";import{Q as mn}from"./QItemSection-DWm1IbfG.js";import{Q as fl}from"./QItemLabel-Dkgu5Zag.js";import{l as gn,k as hn,u as vl,s as bn,e as ml,f as gl,h as hl,g as Sn,i as yn,j as pn,T as wn}from"./use-timeout-DRXnIvAQ.js";import{u as bl,a as Sl,b as yl,c as Cn,d as kn,e as xn}from"./private.use-form-DYEkI5C-.js";import{g as pt,v as An,c as pl,Q as wt}from"./QBtn-Biy0hJ3O.js";import{Q as Mn}from"./QToggle-Csq4jgHm.js";import{Q as $t}from"./QCardSection-DyIiTBp5.js";import{Q as Wt}from"./QCard-DrvUdzwe.js";import{_ as Vn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-checkbox-CHr9NwHg.js";const qn=Ze({name:"QField",inheritAttrs:!1,props:{...Et,tag:{type:String,default:"label"}},emits:ol,setup(){return al(il({tagProp:!0}))}}),Tn={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},En={...Tn,contextMenu:Boolean};function Bn({showing:e,avoidEmit:o,configureAnchorEl:a}){const{props:n,proxy:l,emit:u}=Ve(),r=q(null);let f=null;function g(v){return r.value===null?!1:v===void 0||v.touches===void 0||v.touches.length<=1}const C={};a===void 0&&(Object.assign(C,{hide(v){l.hide(v)},toggle(v){l.toggle(v),v.qAnchorHandled=!0},toggleKey(v){Bt(v,13)===!0&&C.toggle(v)},contextClick(v){l.hide(v),nt(v),ye(()=>{l.show(v),v.qAnchorHandled=!0})},prevent:nt,mobileTouch(v){if(C.mobileCleanup(v),g(v)!==!0)return;l.hide(v),r.value.classList.add("non-selectable");const S=v.target;Nt(C,"anchor",[[S,"touchmove","mobileCleanup","passive"],[S,"touchend","mobileCleanup","passive"],[S,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,l.show(v),v.qAnchorHandled=!0},300)},mobileCleanup(v){r.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&v!==void 0&&gn()}}),a=function(v=n.contextMenu){if(n.noParentEvent===!0||r.value===null)return;let S;v===!0?l.$q.platform.is.mobile===!0?S=[[r.value,"touchstart","mobileTouch","passive"]]:S=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:S=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Nt(C,"anchor",S)});function d(){jl(C,"anchor")}function x(v){for(r.value=v;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;a()}function A(){if(n.target===!1||n.target===""||l.$el.parentNode===null)r.value=null;else if(n.target===!0)x(l.$el.parentNode);else{let v=n.target;if(typeof n.target=="string")try{v=document.querySelector(n.target)}catch{v=void 0}v!=null?(r.value=v.$el||v,a()):(r.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return ue(()=>n.contextMenu,v=>{r.value!==null&&(d(),a(v))}),ue(()=>n.target,()=>{r.value!==null&&d(),A()}),ue(()=>n.noParentEvent,v=>{r.value!==null&&(v===!0?d():a())}),At(()=>{A(),o!==!0&&n.modelValue===!0&&r.value===null&&u("update:modelValue",!1)}),qe(()=>{f!==null&&clearTimeout(f),d()}),{anchorEl:r,canShow:g,anchorEvents:C}}function Fn(e,o){const a=q(null);let n;function l(f,g){const C=`${g!==void 0?"add":"remove"}EventListener`,d=g!==void 0?g:n;f!==window&&f[C]("scroll",d,Mt.passive),window[C]("scroll",d,Mt.passive),n=g}function u(){a.value!==null&&(l(a.value),a.value=null)}const r=ue(()=>e.noParentEvent,()=>{a.value!==null&&(u(),o())});return qe(r),{localScrollTarget:a,unconfigureScrollTarget:u,changeScrollEvent:l}}let In=1,Ln=document.body;function zn(e,o){const a=document.createElement("div");if(a.id=o!==void 0?`q-portal--${o}--${In++}`:e,Qt.globalNodes!==void 0){const n=Qt.globalNodes.class;n!==void 0&&(a.className=n)}return Ln.appendChild(a),a}function Rn(e){e.remove()}const ot=[];function Hn(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return pt(e)}else if(e.__qPortal===!0){const a=pt(e);return a!==void 0&&a.$options.name==="QPopupProxy"?(e.hide(o),a):e}e=pt(e)}while(e!=null)}const On=Ze({name:"QPortal",setup(e,{slots:o}){return()=>o.default()}});function Dn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function wl(e,o,a,n){const l=q(!1),u=q(!1);let r=null;const f={},g=n==="dialog"&&Dn(e);function C(x){if(x===!0){Dt(f),u.value=!0;return}u.value=!1,l.value===!1&&(g===!1&&r===null&&(r=zn(!1,n)),l.value=!0,ot.push(e.proxy),$l(f))}function d(x){if(u.value=!1,x!==!0)return;Dt(f),l.value=!1;const A=ot.indexOf(e.proxy);A!==-1&&ot.splice(A,1),r!==null&&(Rn(r),r=null)}return Ul(()=>{d(!0)}),e.proxy.__qPortal=!0,Gl(e.proxy,"contentEl",()=>o.value),{showPortal:C,hidePortal:d,portalIsActive:l,portalIsAccessible:u,renderPortal:()=>g===!0?a():l.value===!0?[V(Xl,{to:r},V(On,a))]:void 0}}const Cl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function kl(e,o=()=>{},a=()=>{}){return{transitionProps:s(()=>{const n=`q-transition--${e.transitionShow||o()}`,l=`q-transition--${e.transitionHide||a()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:s(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function xl(){let e;const o=Ve();function a(){e=void 0}return rl(a),qe(a),{removeTick:a,registerTick(n){e=n,ye(()=>{e===n&&(An(o)===!1&&e(),e=void 0)})}}}const Le=[];let Xe;function Pn(e){Xe=e.keyCode===27}function _n(){Xe===!0&&(Xe=!1)}function Nn(e){Xe===!0&&(Xe=!1,Bt(e,27)===!0&&Le[Le.length-1](e))}function Al(e){window[e]("keydown",Pn),window[e]("blur",_n),window[e]("keyup",Nn),Xe=!1}function Ml(e){Ft.is.desktop===!0&&(Le.push(e),Le.length===1&&Al("addEventListener"))}function dt(e){const o=Le.indexOf(e);o!==-1&&(Le.splice(o,1),Le.length===0&&Al("removeEventListener"))}const ze=[];function Vl(e){ze[ze.length-1](e)}function ql(e){Ft.is.desktop===!0&&(ze.push(e),ze.length===1&&document.body.addEventListener("focusin",Vl))}function qt(e){const o=ze.indexOf(e);o!==-1&&(ze.splice(o,1),ze.length===0&&document.body.removeEventListener("focusin",Vl))}const{notPassiveCapture:ft}=Mt,Re=[];function vt(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let a=ot.length-1;for(;a>=0;){const n=ot[a].$;if(n.type.name==="QTooltip"){a--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;a--}for(let n=Re.length-1;n>=0;n--){const l=Re[n];if((l.anchorEl.value===null||l.anchorEl.value.contains(o)===!1)&&(o===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(o)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function Qn(e){Re.push(e),Re.length===1&&(document.addEventListener("mousedown",vt,ft),document.addEventListener("touchstart",vt,ft))}function jt(e){const o=Re.findIndex(a=>a===e);o!==-1&&(Re.splice(o,1),Re.length===0&&(document.removeEventListener("mousedown",vt,ft),document.removeEventListener("touchstart",vt,ft)))}let Ut,Gt;function Xt(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Kn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Tt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Tt[`${e}#ltr`]=e,Tt[`${e}#rtl`]=e});function Zt(e,o){const a=e.split(" ");return{vertical:a[0],horizontal:Tt[`${a[1]}#${o===!0?"rtl":"ltr"}`]}}function $n(e,o){let{top:a,left:n,right:l,bottom:u,width:r,height:f}=e.getBoundingClientRect();return o!==void 0&&(a-=o[1],n-=o[0],u+=o[1],l+=o[0],r+=o[0],f+=o[1]),{top:a,bottom:u,height:f,left:n,right:l,width:r,middle:n+(l-n)/2,center:a+(u-a)/2}}function Wn(e,o,a){let{top:n,left:l}=e.getBoundingClientRect();return n+=o.top,l+=o.left,a!==void 0&&(n+=a[1],l+=a[0]),{top:n,bottom:n+1,height:1,left:l,right:l+1,width:1,middle:l,center:n}}function jn(e,o){return{top:0,center:o/2,bottom:o,left:0,middle:e/2,right:e}}function Jt(e,o,a,n){return{top:e[a.vertical]-o[n.vertical],left:e[a.horizontal]-o[n.horizontal]}}function Tl(e,o=0){if(e.targetEl===null||e.anchorEl===null||o>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Tl(e,o+1)},10);return}const{targetEl:a,offset:n,anchorEl:l,anchorOrigin:u,selfOrigin:r,absoluteOffset:f,fit:g,cover:C,maxHeight:d,maxWidth:x}=e;if(Ft.is.ios===!0&&window.visualViewport!==void 0){const y=document.body.style,{offsetLeft:B,offsetTop:I}=window.visualViewport;B!==Ut&&(y.setProperty("--q-pe-left",B+"px"),Ut=B),I!==Gt&&(y.setProperty("--q-pe-top",I+"px"),Gt=I)}const{scrollLeft:A,scrollTop:v}=a,S=f===void 0?$n(l,C===!0?[0,0]:n):Wn(l,f,n);Object.assign(a.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:x,maxHeight:d,visibility:"visible"});const{offsetWidth:U,offsetHeight:z}=a,{elWidth:P,elHeight:N}=g===!0||C===!0?{elWidth:Math.max(S.width,U),elHeight:C===!0?Math.max(S.height,z):z}:{elWidth:U,elHeight:z};let M={maxWidth:x,maxHeight:d};(g===!0||C===!0)&&(M.minWidth=S.width+"px",C===!0&&(M.minHeight=S.height+"px")),Object.assign(a.style,M);const E=jn(P,N);let R=Jt(S,E,u,r);if(f===void 0||n===void 0)Ct(R,S,E,u,r);else{const{top:y,left:B}=R;Ct(R,S,E,u,r);let I=!1;if(R.top!==y){I=!0;const O=2*n[1];S.center=S.top-=O,S.bottom-=O+2}if(R.left!==B){I=!0;const O=2*n[0];S.middle=S.left-=O,S.right-=O+2}I===!0&&(R=Jt(S,E,u,r),Ct(R,S,E,u,r))}M={top:R.top+"px",left:R.left+"px"},R.maxHeight!==void 0&&(M.maxHeight=R.maxHeight+"px",S.height>R.maxHeight&&(M.minHeight=M.maxHeight)),R.maxWidth!==void 0&&(M.maxWidth=R.maxWidth+"px",S.width>R.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(a.style,M),a.scrollTop!==v&&(a.scrollTop=v),a.scrollLeft!==A&&(a.scrollLeft=A)}function Ct(e,o,a,n,l){const u=a.bottom,r=a.right,f=hn(),g=window.innerHeight-f,C=document.body.clientWidth;if(e.top<0||e.top+u>g)if(l.vertical==="center")e.top=o[n.vertical]>g/2?Math.max(0,g-u):0,e.maxHeight=Math.min(u,g);else if(o[n.vertical]>g/2){const d=Math.min(g,n.vertical==="center"?o.center:n.vertical===l.vertical?o.bottom:o.top);e.maxHeight=Math.min(u,d),e.top=Math.max(0,d-u)}else e.top=Math.max(0,n.vertical==="center"?o.center:n.vertical===l.vertical?o.top:o.bottom),e.maxHeight=Math.min(u,g-e.top);if(e.left<0||e.left+r>C)if(e.maxWidth=Math.min(r,C),l.horizontal==="middle")e.left=o[n.horizontal]>C/2?Math.max(0,C-r):0;else if(o[n.horizontal]>C/2){const d=Math.min(C,n.horizontal==="middle"?o.middle:n.horizontal===l.horizontal?o.right:o.left);e.maxWidth=Math.min(r,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?o.middle:n.horizontal===l.horizontal?o.left:o.right),e.maxWidth=Math.min(r,C-e.left)}const Un=Ze({name:"QMenu",inheritAttrs:!1,props:{...En,...ml,...bl,...Cl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Xt},self:{type:String,validator:Xt},offset:{type:Array,validator:Kn},scrollTarget:bn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...vl,"click","escapeKey"],setup(e,{slots:o,emit:a,attrs:n}){let l=null,u,r,f;const g=Ve(),{proxy:C}=g,{$q:d}=C,x=q(null),A=q(!1),v=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=Sl(e,d),{registerTick:U,removeTick:z}=xl(),{registerTimeout:P}=gl(),{transitionProps:N,transitionStyle:M}=kl(e),{localScrollTarget:E,changeScrollEvent:R,unconfigureScrollTarget:y}=Fn(e,F),{anchorEl:B,canShow:I}=Bn({showing:A}),{hide:O}=hl({showing:A,canShow:I,handleShow:fe,handleHide:i,hideOnRouteChange:v,processOnMount:!0}),{showPortal:J,hidePortal:Y,renderPortal:K}=wl(g,x,D,"menu"),te={anchorEl:B,innerRef:x,onClickOutside(m){if(e.persistent!==!0&&A.value===!0)return O(m),(m.type==="touchstart"||m.target.classList.contains("q-dialog__backdrop"))&&Me(m),!0}},se=s(()=>Zt(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),de=s(()=>e.cover===!0?se.value:Zt(e.self||"top start",d.lang.rtl)),le=s(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),ne=s(()=>e.autoClose===!0?{onClick:H}:{}),ae=s(()=>A.value===!0&&e.persistent!==!0);ue(ae,m=>{m===!0?(Ml(b),Qn(te)):(dt(b),jt(te))});function oe(){ul(()=>{let m=x.value;m&&m.contains(document.activeElement)!==!0&&(m=m.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.querySelector("[autofocus], [data-autofocus]")||m,m.focus({preventScroll:!0}))})}function fe(m){if(l=e.noRefocus===!1?document.activeElement:null,ql($),J(),F(),u=void 0,m!==void 0&&(e.touchPosition||e.contextMenu)){const G=sl(m);if(G.left!==void 0){const{top:re,left:Ce}=B.value.getBoundingClientRect();u={left:G.left-Ce,top:G.top-re}}}r===void 0&&(r=ue(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),U(()=>{k(),e.noFocus!==!0&&oe()}),P(()=>{d.platform.is.ios===!0&&(f=e.autoClose,x.value.click()),k(),J(!0),a("show",m)},e.transitionDuration)}function i(m){z(),Y(),h(!0),l!==null&&(m===void 0||m.qClickOutside!==!0)&&(((m&&m.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),P(()=>{Y(!0),a("hide",m)},e.transitionDuration)}function h(m){u=void 0,r!==void 0&&(r(),r=void 0),(m===!0||A.value===!0)&&(qt($),y(),jt(te),dt(b)),m!==!0&&(l=null)}function F(){(B.value!==null||e.scrollTarget!==void 0)&&(E.value=Sn(B.value,e.scrollTarget),R(E.value,k))}function H(m){f!==!0?(Hn(C,m),a("click",m)):f=!1}function $(m){ae.value===!0&&e.noFocus!==!0&&pl(x.value,m.target)!==!0&&oe()}function b(m){a("escapeKey"),O(m)}function k(){Tl({targetEl:x.value,offset:e.offset,anchorEl:B.value,anchorOrigin:se.value,selfOrigin:de.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(){return V(Vt,N.value,()=>A.value===!0?V("div",{role:"menu",...n,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+le.value,n.class],style:[n.style,M.value],...ne.value},cl(o.default)):null)}return qe(h),Object.assign(C,{focus:oe,updatePosition:k}),K}});let ct=0;const Gn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Yt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Xn=Ze({name:"QDialog",inheritAttrs:!1,props:{...ml,...Cl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...vl,"shake","click","escapeKey"],setup(e,{slots:o,emit:a,attrs:n}){const l=Ve(),u=q(null),r=q(!1),f=q(!1);let g=null,C=null,d,x;const A=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:v}=pn(),{registerTimeout:S}=gl(),{registerTick:U,removeTick:z}=xl(),{transitionProps:P,transitionStyle:N}=kl(e,()=>Yt[e.position][0],()=>Yt[e.position][1]),M=s(()=>N.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:E,hidePortal:R,portalIsAccessible:y,renderPortal:B}=wl(l,u,$,"dialog"),{hide:I}=hl({showing:r,hideOnRouteChange:A,handleShow:de,handleHide:le,processOnMount:!0}),{addToHistory:O,removeFromHistory:J}=yn(r,I,A),Y=s(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Gn[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),K=s(()=>r.value===!0&&e.seamless!==!0),te=s(()=>e.autoClose===!0?{onClick:h}:{}),se=s(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${K.value===!0?"modal":"seamless"}`,n.class]);ue(()=>e.maximized,b=>{r.value===!0&&i(b)}),ue(K,b=>{v(b),b===!0?(ql(H),Ml(oe)):(qt(H),dt(oe))});function de(b){O(),C=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,i(e.maximized),E(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),U(ne)):z(),S(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:k,bottom:D}=document.activeElement.getBoundingClientRect(),{innerHeight:m}=window,G=window.visualViewport!==void 0?window.visualViewport.height:m;k>0&&D>G/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-G,D>=m?1/0:Math.ceil(document.scrollingElement.scrollTop+D-G/2))),document.activeElement.scrollIntoView()}x=!0,u.value.click(),x=!1}E(!0),f.value=!1,a("show",b)},e.transitionDuration)}function le(b){z(),J(),fe(!0),f.value=!0,R(),C!==null&&(((b&&b.type.indexOf("key")===0?C.closest('[tabindex]:not([tabindex^="-"])'):void 0)||C).focus(),C=null),S(()=>{R(!0),f.value=!1,a("hide",b)},e.transitionDuration)}function ne(b){ul(()=>{let k=u.value;if(k!==null){if(b!==void 0){const D=k.querySelector(b);if(D!==null){D.focus({preventScroll:!0});return}}k.contains(document.activeElement)!==!0&&(k=k.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||k.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||k.querySelector("[autofocus], [data-autofocus]")||k,k.focus({preventScroll:!0}))}})}function ae(b){b&&typeof b.focus=="function"?b.focus({preventScroll:!0}):ne(),a("shake");const k=u.value;k!==null&&(k.classList.remove("q-animate--scale"),k.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,u.value!==null&&(k.classList.remove("q-animate--scale"),ne())},170))}function oe(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ae():(a("escapeKey"),I()))}function fe(b){g!==null&&(clearTimeout(g),g=null),(b===!0||r.value===!0)&&(i(!1),e.seamless!==!0&&(v(!1),qt(H),dt(oe))),b!==!0&&(C=null)}function i(b){b===!0?d!==!0&&(ct<1&&document.body.classList.add("q-body--dialog"),ct++,d=!0):d===!0&&(ct<2&&document.body.classList.remove("q-body--dialog"),ct--,d=!1)}function h(b){x!==!0&&(I(b),a("click",b))}function F(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?I(b):e.noShake!==!0&&ae()}function H(b){e.allowFocusOutside!==!0&&y.value===!0&&pl(u.value,b.target)!==!0&&ne('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:ne,shake:ae,__updateRefocusTarget(b){C=b||null}}),qe(fe);function $(){return V("div",{role:"dialog","aria-modal":K.value===!0?"true":"false",...n,class:se.value},[V(Vt,{name:"q-transition--fade",appear:!0},()=>K.value===!0?V("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:F}):null),V(Vt,P.value,()=>r.value===!0?V("div",{ref:u,class:Y.value,style:N.value,tabindex:-1,...te.value},cl(o.default)):null)])}return B}});let mt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,mt=e.scrollLeft>=0,e.remove()}const be=1e3,Zn=["start","center","end","start-force","center-force","end-force"],El=Array.prototype.filter,Jn=window.getComputedStyle(document.body).overflowAnchor===void 0?en:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const a=e.children||[];El.call(a,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const n=a[o];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Ge(e,o){return e+o}function kt(e,o,a,n,l,u,r,f){const g=e===window?document.scrollingElement||document.documentElement:e,C=l===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-r-f,scrollMaxSize:0,offsetStart:-r,offsetEnd:-f};if(l===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=g.scrollLeft,d.scrollViewSize+=g.clientWidth),d.scrollMaxSize=g.scrollWidth,u===!0&&(d.scrollStart=(mt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=g.scrollTop,d.scrollViewSize+=g.clientHeight),d.scrollMaxSize=g.scrollHeight),a!==null)for(let x=a.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=x[C]);if(n!==null)for(let x=n.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=x[C]);if(o!==e){const x=g.getBoundingClientRect(),A=o.getBoundingClientRect();l===!0?(d.offsetStart+=A.left-x.left,d.offsetEnd-=A.width):(d.offsetStart+=A.top-x.top,d.offsetEnd-=A.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function el(e,o,a,n){o==="end"&&(o=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(n===!0&&(o=(mt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):a===!0?(n===!0&&(o=(mt===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function lt(e,o,a,n){if(a>=n)return 0;const l=o.length,u=Math.floor(a/be),r=Math.floor((n-1)/be)+1;let f=e.slice(u,r).reduce(Ge,0);return a%be!==0&&(f-=o.slice(u*be,a).reduce(Ge,0)),n%be!==0&&n!==l&&(f-=o.slice(n,r*be).reduce(Ge,0)),f}const Yn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},tl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Yn};function eo({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:a,virtualScrollItemSizeComputed:n}){const l=Ve(),{props:u,emit:r,proxy:f}=l,{$q:g}=f;let C,d,x,A=[],v;const S=q(0),U=q(0),z=q({}),P=q(null),N=q(null),M=q(null),E=q({from:0,to:0}),R=s(()=>u.tableColspan!==void 0?u.tableColspan:100);n===void 0&&(n=s(()=>u.virtualScrollItemSize));const y=s(()=>n.value+";"+u.virtualScrollHorizontal),B=s(()=>y.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ue(B,()=>{le()}),ue(y,I);function I(){de(d,!0)}function O(i){de(i===void 0?d:i)}function J(i,h){const F=o();if(F==null||F.nodeType===8)return;const H=kt(F,a(),P.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);x!==H.scrollViewSize&&le(H.scrollViewSize),K(F,H,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,Zn.indexOf(h)!==-1?h:d!==-1&&i>d?"end":"start")}function Y(){const i=o();if(i==null||i.nodeType===8)return;const h=kt(i,a(),P.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),F=e.value-1,H=h.scrollMaxSize-h.offsetStart-h.offsetEnd-U.value;if(C===h.scrollStart)return;if(h.scrollMaxSize<=0){K(i,h,0,0);return}x!==h.scrollViewSize&&le(h.scrollViewSize),te(E.value.from);const $=Math.floor(h.scrollMaxSize-Math.max(h.scrollViewSize,h.offsetEnd)-Math.min(v[F],h.scrollViewSize/2));if($>0&&Math.ceil(h.scrollStart)>=$){K(i,h,F,h.scrollMaxSize-h.offsetEnd-A.reduce(Ge,0));return}let b=0,k=h.scrollStart-h.offsetStart,D=k;if(k<=H&&k+h.scrollViewSize>=S.value)k-=S.value,b=E.value.from,D=k;else for(let m=0;k>=A[m]&&b<F;m++)k-=A[m],b+=be;for(;k>0&&b<F;)k-=v[b],k>-h.scrollViewSize?(b++,D=k):D=v[b]+k;K(i,h,b,D)}function K(i,h,F,H,$){const b=typeof $=="string"&&$.indexOf("-force")!==-1,k=b===!0?$.replace("-force",""):$,D=k!==void 0?k:"start";let m=Math.max(0,F-z.value[D]),G=m+z.value.total;G>e.value&&(G=e.value,m=Math.max(0,G-z.value.total)),C=h.scrollStart;const re=m!==E.value.from||G!==E.value.to;if(re===!1&&k===void 0){ae(F);return}const{activeElement:Ce}=document,ce=M.value;re===!0&&ce!==null&&ce!==Ce&&ce.contains(Ce)===!0&&(ce.addEventListener("focusout",se),setTimeout(()=>{ce!==null&&ce.removeEventListener("focusout",se)})),Jn(ce,F-m);const Te=k!==void 0?v.slice(m,F).reduce(Ge,0):0;if(re===!0){const Se=G>=E.value.from&&m<=E.value.to?E.value.to:G;E.value={from:m,to:Se},S.value=lt(A,v,0,m),U.value=lt(A,v,G,e.value),requestAnimationFrame(()=>{E.value.to!==G&&C===h.scrollStart&&(E.value={from:E.value.from,to:G},U.value=lt(A,v,G,e.value))})}requestAnimationFrame(()=>{if(C!==h.scrollStart)return;re===!0&&te(m);const Se=v.slice(m,F).reduce(Ge,0),me=Se+h.offsetStart+S.value,Ee=me+v[F];let Be=me+H;if(k!==void 0){const Je=Se-Te,ke=h.scrollStart+Je;Be=b!==!0&&ke<me&&Ee<ke+h.scrollViewSize?ke:k==="end"?Ee-h.scrollViewSize:me-(k==="start"?0:Math.round((h.scrollViewSize-v[F])/2))}C=Be,el(i,Be,u.virtualScrollHorizontal,g.lang.rtl),ae(F)})}function te(i){const h=M.value;if(h){const F=El.call(h.children,m=>m.classList&&m.classList.contains("q-virtual-scroll--skip")===!1),H=F.length,$=u.virtualScrollHorizontal===!0?m=>m.getBoundingClientRect().width:m=>m.offsetHeight;let b=i,k,D;for(let m=0;m<H;){for(k=$(F[m]),m++;m<H&&F[m].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=$(F[m]),m++;D=k-v[b],D!==0&&(v[b]+=D,A[Math.floor(b/be)]+=D),b++}}}function se(){M.value!==null&&M.value!==void 0&&M.value.focus()}function de(i,h){const F=1*n.value;(h===!0||Array.isArray(v)===!1)&&(v=[]);const H=v.length;v.length=e.value;for(let b=e.value-1;b>=H;b--)v[b]=F;const $=Math.floor((e.value-1)/be);A=[];for(let b=0;b<=$;b++){let k=0;const D=Math.min((b+1)*be,e.value);for(let m=b*be;m<D;m++)k+=v[m];A.push(k)}d=-1,C=void 0,S.value=lt(A,v,0,E.value.from),U.value=lt(A,v,E.value.to,e.value),i>=0?(te(E.value.from),ye(()=>{J(i)})):oe()}function le(i){if(i===void 0&&typeof window<"u"){const k=o();k!=null&&k.nodeType!==8&&(i=kt(k,a(),P.value,N.value,u.virtualScrollHorizontal,g.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}x=i;const h=parseFloat(u.virtualScrollSliceRatioBefore)||0,F=parseFloat(u.virtualScrollSliceRatioAfter)||0,H=1+h+F,$=i===void 0||i<=0?1:Math.ceil(i/n.value),b=Math.max(1,$,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/H));z.value={total:Math.ceil(b*H),start:Math.ceil(b*h),center:Math.ceil(b*(.5+h)),end:Math.ceil(b*(1+h)),view:$}}function ne(i,h){const F=u.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+F]:n.value+"px"};return[i==="tbody"?V(i,{class:"q-virtual-scroll__padding",key:"before",ref:P},[V("tr",[V("td",{style:{[F]:`${S.value}px`,...H},colspan:R.value})])]):V(i,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[F]:`${S.value}px`,...H}}),V(i,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},h.flat()),i==="tbody"?V(i,{class:"q-virtual-scroll__padding",key:"after",ref:N},[V("tr",[V("td",{style:{[F]:`${U.value}px`,...H},colspan:R.value})])]):V(i,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[F]:`${U.value}px`,...H}})]}function ae(i){d!==i&&(u.onVirtualScroll!==void 0&&r("virtualScroll",{index:i,from:E.value.from,to:E.value.to-1,direction:i<d?"decrease":"increase",ref:f}),d=i)}le();const oe=Zl(Y,g.platform.is.ios===!0?120:35);Jl(()=>{le()});let fe=!1;return rl(()=>{fe=!0}),Yl(()=>{if(fe!==!0)return;const i=o();C!==void 0&&i!==void 0&&i!==null&&i.nodeType!==8?el(i,C,u.virtualScrollHorizontal,g.lang.rtl):J(d)}),qe(()=>{oe.cancel()}),Object.assign(f,{scrollTo:J,reset:I,refresh:O}),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:z,setVirtualScrollSize:le,onVirtualScrollEvt:oe,localResetVirtualScroll:de,padVirtualScroll:ne,scrollTo:J,reset:I,refresh:O}}const ll=e=>["add","add-unique","toggle"].includes(e),to=".*+?^${}()|[]\\",lo=Object.keys(Et);function xt(e,o){if(typeof e=="function")return e;const a=e!==void 0?e:o;return n=>n!==null&&typeof n=="object"&&a in n?n[a]:n}const no=Ze({name:"QSelect",inheritAttrs:!1,props:{...tl,...yl,...Et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ll},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:tl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ol,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:a}){const{proxy:n}=Ve(),{$q:l}=n,u=q(!1),r=q(!1),f=q(-1),g=q(""),C=q(!1),d=q(!1);let x=null,A=null,v,S,U,z=null,P,N,M,E;const R=q(null),y=q(null),B=q(null),I=q(null),O=q(null),J=Cn(e),Y=Wl(Lt),K=s(()=>Array.isArray(e.options)?e.options.length:0),te=s(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:le,padVirtualScroll:ne,onVirtualScrollEvt:ae,scrollTo:oe,setVirtualScrollSize:fe}=eo({virtualScrollLength:K,getVirtualScrollTarget:Fl,getVirtualScrollEl:Pe,virtualScrollItemSizeComputed:te}),i=il(),h=s(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,p=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const w=e.mapOptions===!0&&v!==void 0?v:[],L=p.map(j=>c(j,w));return e.modelValue===null&&t===!0?L.filter(j=>j!==null):L}return p}),F=s(()=>{const t={};return lo.forEach(p=>{const w=e[p];w!==void 0&&(t[p]=w)}),t}),H=s(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),$=s(()=>_t(h.value)),b=s(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),k=s(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=s(()=>K.value===0),m=s(()=>h.value.map(t=>ie.value(t)).join(", ")),G=s(()=>e.displayValue!==void 0?e.displayValue:m.value),re=s(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ce=s(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(re.value))),ce=s(()=>i.focused.value===!0?e.tabindex:-1),Te=s(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${i.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${f.value}`),t}),Se=s(()=>({id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=s(()=>h.value.map((t,p)=>({index:p,opt:t,html:re.value(t),selected:!0,removeAtIndex:gt,toggleOption:pe,tabindex:ce.value}))),Ee=s(()=>{if(K.value===0)return[];const{from:t,to:p}=se.value;return e.options.slice(t,p).map((w,L)=>{const j=xe.value(w)===!0,Q=T(w)===!0,ee=t+L,X={clickable:!0,active:Q,activeClass:ke.value,manualFocus:!0,focused:!1,disable:j,tabindex:-1,dense:e.optionsDense,dark:H.value,role:"option","aria-selected":Q===!0?"true":"false",id:`${i.targetUid.value}_${ee}`,onClick:()=>{pe(w)}};return j!==!0&&(f.value===ee&&(X.focused=!0),l.platform.is.desktop===!0&&(X.onMousemove=()=>{u.value===!0&&Ae(ee)})),{index:ee,opt:w,html:re.value(w),label:ie.value(w),selected:X.active,focused:X.focused,toggleOption:pe,setOptionIndex:Ae,itemProps:X}})}),Be=s(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),Je=s(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ke=s(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ve=s(()=>xt(e.optionValue,"value")),ie=s(()=>xt(e.optionLabel,"label")),xe=s(()=>xt(e.optionDisable,"disable")),He=s(()=>h.value.map(ve.value)),at=s(()=>{const t={onInput:Lt,onChange:Y,onKeydown:De,onKeyup:Z,onKeypress:ge,onFocus:_,onClick(p){S===!0&&$e(p)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Y,t});ue(h,t=>{v=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(r.value!==!0&&u.value!==!0||$.value!==!0)&&(U!==!0&&Ke(),(r.value===!0||u.value===!0)&&_e(""))},{immediate:!0}),ue(()=>e.fillInput,Ke),ue(u,ht),ue(K,Kl);function it(t){return e.emitValue===!0?ve.value(t):t}function Fe(t){if(t!==-1&&t<h.value.length)if(e.multiple===!0){const p=e.modelValue.slice();a("remove",{index:t,value:p.splice(t,1)[0]}),a("update:modelValue",p)}else a("update:modelValue",null)}function gt(t){Fe(t),i.focus()}function ut(t,p){const w=it(t);if(e.multiple!==!0){e.fillInput===!0&&Ye(ie.value(t),!0,!0),a("update:modelValue",w);return}if(h.value.length===0){a("add",{index:0,value:w}),a("update:modelValue",e.multiple===!0?[w]:w);return}if(p===!0&&T(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();a("add",{index:L.length,value:w}),L.push(w),a("update:modelValue",L)}function pe(t,p){if(i.editable.value!==!0||t===void 0||xe.value(t)===!0)return;const w=ve.value(t);if(e.multiple!==!0){p!==!0&&(Ye(e.fillInput===!0?ie.value(t):"",!0,!0),Ie()),y.value!==null&&y.value.focus(),(h.value.length===0||et(ve.value(h.value[0]),w)!==!0)&&a("update:modelValue",e.emitValue===!0?w:t);return}if((S!==!0||C.value===!0)&&i.focus(),_(),h.value.length===0){const Q=e.emitValue===!0?w:t;a("add",{index:0,value:Q}),a("update:modelValue",e.multiple===!0?[Q]:Q);return}const L=e.modelValue.slice(),j=He.value.findIndex(Q=>et(Q,w));if(j!==-1)a("remove",{index:j,value:L.splice(j,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const Q=e.emitValue===!0?w:t;a("add",{index:L.length,value:Q}),L.push(Q)}a("update:modelValue",L)}function Ae(t){if(l.platform.is.desktop!==!0)return;const p=t!==-1&&t<K.value?t:-1;f.value!==p&&(f.value=p)}function Oe(t=1,p){if(u.value===!0){let w=f.value;do w=Pt(w+t,-1,K.value-1);while(w!==-1&&w!==f.value&&xe.value(e.options[w])===!0);f.value!==w&&(Ae(w),oe(w),p!==!0&&e.useInput===!0&&e.fillInput===!0&&rt(w>=0?ie.value(e.options[w]):P,!0))}}function c(t,p){const w=L=>et(ve.value(L),t);return e.options.find(w)||p.find(w)||t}function T(t){const p=ve.value(t);return He.value.find(w=>et(w,p))!==void 0}function _(t){e.useInput===!0&&y.value!==null&&(t===void 0||y.value===t.target&&t.target.value===m.value)&&y.value.select()}function W(t){Bt(t,27)===!0&&u.value===!0&&($e(t),Ie(),Ke()),a("keyup",t)}function Z(t){const{value:p}=t.target;if(t.keyCode!==void 0){W(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),A!==null&&(clearTimeout(A),A=null),Ke(),typeof p=="string"&&p.length!==0){const w=p.toLocaleLowerCase(),L=Q=>{const ee=e.options.find(X=>String(Q.value(X)).toLocaleLowerCase()===w);return ee===void 0?!1:(h.value.indexOf(ee)===-1?pe(ee):Ie(),!0)},j=Q=>{L(ve)!==!0&&Q!==!0&&L(ie)!==!0&&_e(p,!0,()=>j(!0))};j()}else i.clearValue(t)}function ge(t){a("keypress",t)}function De(t){if(a("keydown",t),nn(t)===!0)return;const p=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),w=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||p===!0);if(t.keyCode===27){nt(t);return}if(t.keyCode===9&&w===!1){Ne();return}if(t.target===void 0||t.target.id!==i.targetUid.value||i.editable.value!==!0)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&u.value===!1){Me(t),Qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Fe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Me(t),f.value=-1,Oe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&de.value!==void 0&&(Me(t),f.value=Math.max(-1,Math.min(K.value,f.value+(t.keyCode===33?-1:1)*de.value.view)),Oe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Me(t),Oe(t.keyCode===38?-1:1,e.multiple));const L=K.value;if((M===void 0||E<Date.now())&&(M=""),L>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length!==0)){u.value!==!0&&Qe(t);const j=t.key.toLocaleLowerCase(),Q=M.length===1&&M[0]===j;E=Date.now()+1500,Q===!1&&(Me(t),M+=j);const ee=new RegExp("^"+M.split("").map(bt=>to.indexOf(bt)!==-1?"\\"+bt:bt).join(".*"),"i");let X=f.value;if(Q===!0||X<0||ee.test(ie.value(e.options[X]))!==!0)do X=Pt(X+1,-1,L-1);while(X!==f.value&&(xe.value(e.options[X])===!0||ee.test(ie.value(e.options[X]))!==!0));f.value!==X&&ye(()=>{Ae(X),oe(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&rt(ie.value(e.options[X]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||w===!1))){if(t.keyCode!==9&&Me(t),f.value!==-1&&f.value<L){pe(e.options[f.value]);return}if(p===!0){const j=(Q,ee)=>{if(ee){if(ll(ee)!==!0)return}else ee=e.newValueMode;if(Ye("",e.multiple!==!0,!0),Q==null)return;(ee==="toggle"?pe:ut)(Q,ee==="add-unique"),e.multiple!==!0&&(y.value!==null&&y.value.focus(),Ie())};if(e.onNewValue!==void 0?a("newValue",g.value,j):j(g.value),e.multiple!==!0)return}u.value===!0?Ne():i.innerLoading.value!==!0&&Qe()}}function Pe(){return S===!0?O.value:B.value!==null&&B.value.contentEl!==null?B.value.contentEl:void 0}function Fl(){return Pe()}function Il(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?me.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?me.value.map((t,p)=>V(vn,{key:"option-"+p,removable:i.editable.value===!0&&xe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ce.value,onRemove(){t.removeAtIndex(p)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ie.value(t.opt)}))):[V("span",{[Ce.value===!0?"innerHTML":"textContent"]:G.value})]}function It(){if(D.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:g.value}):void 0;const t=o.option!==void 0?o.option:w=>V(dl,{key:w.index,...w.itemProps},()=>V(mn,()=>V(fl,()=>V("span",{[w.html===!0?"innerHTML":"textContent"]:w.label}))));let p=ne("div",Ee.value.map(t));return o["before-options"]!==void 0&&(p=o["before-options"]().concat(p)),dn(o["after-options"],p)}function Ll(t,p){const w=p===!0?{...Te.value,...i.splitAttrs.attributes.value}:void 0,L={ref:p===!0?y:void 0,key:"i_t",class:b.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...w,id:p===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...at.value};return t!==!0&&S===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),V("input",L)}function Lt(t){x!==null&&(clearTimeout(x),x=null),A!==null&&(clearTimeout(A),A=null),!(t&&t.target&&t.target.qComposing===!0)&&(rt(t.target.value||""),U=!0,P=g.value,i.focused.value!==!0&&(S!==!0||C.value===!0)&&i.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,_e(g.value)},e.inputDebounce)))}function rt(t,p){g.value!==t&&(g.value=t,p===!0||e.inputDebounce===0||e.inputDebounce==="0"?a("inputValue",t):A=setTimeout(()=>{A=null,a("inputValue",t)},e.inputDebounce))}function Ye(t,p,w){U=w!==!0,e.useInput===!0&&(rt(t,!0),(p===!0||w!==!0)&&(P=t),p!==!0&&_e(t))}function _e(t,p,w){if(e.onFilter===void 0||p!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?a("filterAbort"):(i.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&h.value.length!==0&&U!==!0&&t===ie.value(h.value[0])&&(t="");const L=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);z!==null&&clearTimeout(z),z=L,a("filter",t,(j,Q)=>{(p===!0||i.focused.value===!0)&&z===L&&(clearTimeout(z),typeof j=="function"&&j(),d.value=!1,ye(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(p===!0?u.value===!0&&Ie():u.value===!0?ht(!0):u.value=!0),typeof Q=="function"&&ye(()=>{Q(n)}),typeof w=="function"&&ye(()=>{w(n)})}))},()=>{i.focused.value===!0&&z===L&&(clearTimeout(z),i.innerLoading.value=!1,d.value=!1),u.value===!0&&(u.value=!1)})}function zl(){return V(Un,{ref:B,class:k.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:H.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Je.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Se.value,onScrollPassive:ae,onBeforeShow:Rt,onBeforeHide:Rl,onShow:Hl},It)}function Rl(t){Ht(t),Ne()}function Hl(){fe()}function Ol(t){$e(t),y.value!==null&&y.value.focus(),C.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Dl(t){$e(t),ye(()=>{C.value=!1})}function Pl(){const t=[V(qn,{class:`col-auto ${i.fieldClass.value}`,...F.value,for:i.targetUid.value,dark:H.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...i.splitAttrs.listeners.value,onFocus:Ol,onBlur:Dl},{...o,rawControl:()=>i.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(V("div",{ref:O,class:k.value+" scroll",style:e.popupContentStyle,...Se.value,onClick:nt,onScrollPassive:ae},It())),V(Xn,{ref:I,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Rt,onBeforeHide:_l,onHide:Nl,onShow:Ql},()=>V("div",{class:"q-select__dialog"+(H.value===!0?" q-select__dialog--dark q-dark":"")+(C.value===!0?" q-select__dialog--focused":"")},t))}function _l(t){Ht(t),I.value!==null&&I.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function Nl(t){Ie(),i.focused.value===!1&&a("blur",t),Ke()}function Ql(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&y.value!==null&&y.value!==t&&y.value.focus(),fe()}function Ne(){r.value!==!0&&(f.value=-1,u.value===!0&&(u.value=!1),i.focused.value===!1&&(z!==null&&(clearTimeout(z),z=null),i.innerLoading.value===!0&&(a("filterAbort"),i.innerLoading.value=!1,d.value=!1)))}function Qe(t){i.editable.value===!0&&(S===!0?(i.onControlFocusin(t),r.value=!0,ye(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?_e(g.value):(D.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function Ie(){r.value=!1,Ne()}function Ke(){e.useInput===!0&&Ye(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&ie.value(h.value[0])||"",!0,!0)}function ht(t){let p=-1;if(t===!0){if(h.value.length!==0){const w=ve.value(h.value[0]);p=e.options.findIndex(L=>et(ve.value(L),w))}le(p)}Ae(p)}function Kl(t,p){u.value===!0&&i.innerLoading.value===!1&&(le(-1,!0),ye(()=>{u.value===!0&&i.innerLoading.value===!1&&(t>p?le():ht(!0))}))}function zt(){r.value===!1&&B.value!==null&&B.value.updatePosition()}function Rt(t){t!==void 0&&$e(t),a("popupShow",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function Ht(t){t!==void 0&&$e(t),a("popupHide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function Ot(){S=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),N=l.platform.is.ios===!0&&S===!0&&e.useInput===!0?"fade":e.transitionShow}return tn(Ot),ln(zt),Ot(),qe(()=>{x!==null&&clearTimeout(x),A!==null&&clearTimeout(A)}),Object.assign(n,{showPopup:Qe,hidePopup:Ie,removeAtIndex:Fe,add:ut,toggleOption:pe,getOptionIndex:()=>f.value,setOptionIndex:Ae,moveOptionSelection:Oe,filter:_e,updateMenuPosition:zt,updateInputValue:Ye,isOptionSelected:T,getEmittingOptionValue:it,isOptionDisabled:(...t)=>xe.value.apply(null,t)===!0,getOptionValue:(...t)=>ve.value.apply(null,t),getOptionLabel:(...t)=>ie.value.apply(null,t)}),Object.assign(i,{innerValue:h,fieldClass:s(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:R,targetRef:y,hasValue:$,showPopup:Qe,floatingLabel:s(()=>e.hideSelected!==!0&&$.value===!0||typeof g.value=="number"||g.value.length!==0||_t(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(r.value===!0||D.value!==!0||o["no-option"]!==void 0))return S===!0?Pl():zl();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{Ke(),Ne()})},onClick(t){if(nt(t),S!==!0&&u.value===!0){Ne(),y.value!==null&&y.value.focus();return}Qe(t)}},getControl:t=>{const p=Il(),w=t===!0||r.value!==!0||S!==!0;if(e.useInput===!0)p.push(Ll(t,w));else if(i.editable.value===!0){const j=w===!0?Te.value:void 0;p.push(V("input",{ref:w===!0?y:void 0,key:"d_t",class:"q-select__focus-target",id:w===!0?i.targetUid.value:void 0,value:G.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...j,onKeydown:De,onKeyup:W,onKeypress:ge})),w===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&p.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Z}))}if(J.value!==void 0&&e.disable!==!0&&He.value.length!==0){const j=He.value.map(Q=>V("option",{value:Q,selected:!0}));p.push(V("select",{class:"hidden",name:J.value,multiple:e.multiple},j))}const L=e.useInput===!0||w!==!0?void 0:i.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...L,...i.splitAttrs.listeners.value},p)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[V(cn,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Be.value})]:null}),al(i)}}),nl="q-slider__marker-labels",oo=e=>({value:e}),ao=({marker:e})=>V("div",{key:e.value,style:e.style,class:e.classes},e.label),Bl=[34,37,40,33,39,38],io={...bl,...yl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},uo=["pan","update:modelValue","change"];function ro({updateValue:e,updatePosition:o,getDragging:a,formAttrs:n}){const{props:l,emit:u,slots:r,proxy:{$q:f}}=Ve(),g=Sl(l,f),C=kn(n),d=q(!1),x=q(!1),A=q(!1),v=q(!1),S=s(()=>l.vertical===!0?"--v":"--h"),U=s(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),z=s(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(f.lang.rtl===!0)),P=s(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),N=s(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),M=s(()=>l.disable!==!0&&l.readonly!==!0&&P.value<N.value),E=s(()=>{if(l.step===0)return T=>T;const c=(String(l.step).trim().split(".")[1]||"").length;return T=>parseFloat(T.toFixed(c))}),R=s(()=>l.step===0?1:l.step),y=s(()=>M.value===!0?l.tabindex||0:-1),B=s(()=>l.max-l.min),I=s(()=>N.value-P.value),O=s(()=>re(P.value)),J=s(()=>re(N.value)),Y=s(()=>l.vertical===!0?z.value===!0?"bottom":"top":z.value===!0?"right":"left"),K=s(()=>l.vertical===!0?"height":"width"),te=s(()=>l.vertical===!0?"width":"height"),se=s(()=>l.vertical===!0?"vertical":"horizontal"),de=s(()=>{const c={role:"slider","aria-valuemin":P.value,"aria-valuemax":N.value,"aria-orientation":se.value,"data-step":l.step};return l.disable===!0?c["aria-disabled"]="true":l.readonly===!0&&(c["aria-readonly"]="true"),c}),le=s(()=>`q-slider q-slider${S.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(M.value===!0?" q-slider--editable":""))+(A.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(g.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+S.value:""));function ne(c){const T="q-slider__"+c;return`${T} ${T}${S.value} ${T}${S.value}${U.value}`}function ae(c){const T="q-slider__"+c;return`${T} ${T}${S.value}`}const oe=s(()=>{const c=l.selectionColor||l.color;return"q-slider__selection absolute"+(c!==void 0?` text-${c}`:"")}),fe=s(()=>ae("markers")+" absolute overflow-hidden"),i=s(()=>ae("track-container")),h=s(()=>ne("pin")),F=s(()=>ne("label")),H=s(()=>ne("text-container")),$=s(()=>ne("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),b=s(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),k=s(()=>{const c={[te.value]:l.trackSize};return l.trackImg!==void 0&&(c.backgroundImage=`url(${l.trackImg}) !important`),c}),D=s(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),m=s(()=>{const c=J.value-O.value,T={[Y.value]:`${100*O.value}%`,[K.value]:c===0?"2px":`${100*c}%`};return l.innerTrackImg!==void 0&&(T.backgroundImage=`url(${l.innerTrackImg}) !important`),T});function G(c){const{min:T,max:_,step:W}=l;let Z=T+c*(_-T);if(W>0){const ge=(Z-P.value)%W;Z+=(Math.abs(ge)>=W/2?(ge<0?-1:1)*W:0)-ge}return Z=E.value(Z),Ue(Z,P.value,N.value)}function re(c){return B.value===0?0:(c-l.min)/B.value}function Ce(c,T){const _=sl(c),W=l.vertical===!0?Ue((_.top-T.top)/T.height,0,1):Ue((_.left-T.left)/T.width,0,1);return Ue(z.value===!0?1-W:W,O.value,J.value)}const ce=s(()=>on(l.markers)===!0?l.markers:R.value),Te=s(()=>{const c=[],T=ce.value,_=l.max;let W=l.min;do c.push(W),W+=T;while(W<_);return c.push(_),c}),Se=s(()=>{const c=` ${nl}${S.value}-`;return nl+`${c}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${c}${z.value===!0?"rtl":"ltr"}`}),me=s(()=>l.markerLabels===!1?null:Je(l.markerLabels).map((c,T)=>({index:T,value:c.value,label:c.label||c.value,classes:Se.value+(c.classes!==void 0?" "+c.classes:""),style:{...ke(c.value),...c.style||{}}}))),Ee=s(()=>({markerList:me.value,markerMap:ve.value,classes:Se.value,getStyle:ke})),Be=s(()=>{const c=I.value===0?"2px":100*ce.value/I.value;return{...m.value,backgroundSize:l.vertical===!0?`2px ${c}%`:`${c}% 2px`}});function Je(c){if(c===!1)return null;if(c===!0)return Te.value.map(oo);if(typeof c=="function")return Te.value.map(_=>{const W=c(_);return St(W)===!0?{...W,value:_}:{value:_,label:W}});const T=({value:_})=>_>=l.min&&_<=l.max;return Array.isArray(c)===!0?c.map(_=>St(_)===!0?_:{value:_}).filter(T):Object.keys(c).map(_=>{const W=c[_],Z=Number(_);return St(W)===!0?{...W,value:Z}:{value:Z,label:W}}).filter(T)}function ke(c){return{[Y.value]:`${100*(c-l.min)/B.value}%`}}const ve=s(()=>{if(l.markerLabels===!1)return null;const c={};return me.value.forEach(T=>{c[T.value]=T}),c});function ie(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](Ee.value);const c=r["marker-label"]||ao;return me.value.map(T=>c({marker:T,...Ee.value}))}const xe=s(()=>[[wn,He,void 0,{[se.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function He(c){c.isFinal===!0?(v.value!==void 0&&(o(c.evt),c.touch===!0&&e(!0),v.value=void 0,u("pan","end")),d.value=!1,A.value=!1):c.isFirst===!0?(v.value=a(c.evt),o(c.evt),e(),d.value=!0,u("pan","start")):(o(c.evt),e())}function at(){A.value=!1}function it(c){o(c,a(c)),e(),x.value=!0,d.value=!0,document.addEventListener("mouseup",Fe,!0)}function Fe(){x.value=!1,d.value=!1,e(!0),at(),document.removeEventListener("mouseup",Fe,!0)}function gt(c){o(c,a(c)),e(!0)}function ut(c){Bl.includes(c.keyCode)&&e(!0)}function pe(c){if(l.vertical===!0)return null;const T=f.lang.rtl!==l.reverse?1-c:c;return{transform:`translateX(calc(${2*T-1} * ${l.thumbSize} / 2 + ${50-100*T}%))`}}function Ae(c){const T=s(()=>x.value===!1&&(A.value===c.focusValue||A.value==="both")?" q-slider--focus":""),_=s(()=>`q-slider__thumb q-slider__thumb${S.value} q-slider__thumb${S.value}-${z.value===!0?"rtl":"ltr"} absolute non-selectable`+T.value+(c.thumbColor.value!==void 0?` text-${c.thumbColor.value}`:"")),W=s(()=>({width:l.thumbSize,height:l.thumbSize,[Y.value]:`${100*c.ratio.value}%`,zIndex:A.value===c.focusValue?2:void 0})),Z=s(()=>c.labelColor.value!==void 0?` text-${c.labelColor.value}`:""),ge=s(()=>pe(c.ratio.value)),De=s(()=>"q-slider__text"+(c.labelTextColor.value!==void 0?` text-${c.labelTextColor.value}`:""));return()=>{const Pe=[V("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[V("path",{d:l.thumbPath})]),V("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(Pe.push(V("div",{class:h.value+" absolute fit no-pointer-events"+Z.value},[V("div",{class:F.value,style:{minWidth:l.thumbSize}},[V("div",{class:H.value,style:ge.value},[V("span",{class:De.value},c.label.value)])])])),l.name!==void 0&&l.disable!==!0&&C(Pe,"push")),V("div",{class:_.value,style:W.value,...c.getNodeData()},Pe)}}function Oe(c,T,_,W){const Z=[];l.innerTrackColor!=="transparent"&&Z.push(V("div",{key:"inner",class:D.value,style:m.value})),l.selectionColor!=="transparent"&&Z.push(V("div",{key:"selection",class:oe.value,style:c.value})),l.markers!==!1&&Z.push(V("div",{key:"marker",class:fe.value,style:Be.value})),W(Z);const ge=[fn("div",{key:"trackC",class:i.value,tabindex:T.value,..._.value},[V("div",{class:b.value,style:k.value},Z)],"slide",M.value,()=>xe.value)];if(l.markerLabels!==!1){const De=l.switchMarkerLabelsSide===!0?"unshift":"push";ge[De](V("div",{key:"markerL",class:$.value},ie()))}return ge}return qe(()=>{document.removeEventListener("mouseup",Fe,!0)}),{state:{active:d,focus:A,preventFocus:x,dragging:v,editable:M,classes:le,tabindex:y,attributes:de,roundValueFn:E,keyStep:R,trackLen:B,innerMin:P,innerMinRatio:O,innerMax:N,innerMaxRatio:J,positionProp:Y,sizeProp:K,isReversed:z},methods:{onActivate:it,onMobileClick:gt,onBlur:at,onKeyup:ut,getContent:Oe,getThumbRenderFn:Ae,convertRatioToModel:G,convertModelToRatio:re,getDraggingRatio:Ce}}}const so=()=>({}),co=Ze({name:"QSlider",props:{...io,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:uo,setup(e,{emit:o}){const{proxy:{$q:a}}=Ve(),{state:n,methods:l}=ro({updateValue:S,updatePosition:z,getDragging:U,formAttrs:xn(e)}),u=q(null),r=q(0),f=q(0);function g(){f.value=e.modelValue===null?n.innerMin.value:Ue(e.modelValue,n.innerMin.value,n.innerMax.value)}ue(()=>`${e.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,g),g();const C=s(()=>l.convertModelToRatio(f.value)),d=s(()=>n.active.value===!0?r.value:C.value),x=s(()=>{const M={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(d.value-n.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(M.backgroundImage=`url(${e.selectionImg}) !important`),M}),A=l.getThumbRenderFn({focusValue:!0,getNodeData:so,ratio:d,label:s(()=>e.labelValue!==void 0?e.labelValue:f.value),thumbColor:s(()=>e.thumbColor||e.color),labelColor:s(()=>e.labelColor),labelTextColor:s(()=>e.labelTextColor)}),v=s(()=>n.editable.value!==!0?{}:a.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:P,onBlur:l.onBlur,onKeydown:N,onKeyup:l.onKeyup});function S(M){f.value!==e.modelValue&&o("update:modelValue",f.value),M===!0&&o("change",f.value)}function U(){return u.value.getBoundingClientRect()}function z(M,E=n.dragging.value){const R=l.getDraggingRatio(M,E);f.value=l.convertRatioToModel(R),r.value=e.snap!==!0||e.step===0?R:l.convertModelToRatio(f.value)}function P(){n.focus.value=!0}function N(M){if(Bl.includes(M.keyCode)===!1)return;Me(M);const E=([34,33].includes(M.keyCode)?10:1)*n.keyStep.value,R=([34,37,40].includes(M.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*E;f.value=Ue(n.roundValueFn.value(f.value+R),n.innerMin.value,n.innerMax.value),S()}return()=>{const M=l.getContent(x,n.tabindex,v,E=>{E.push(A())});return V("div",{ref:u,class:n.classes.value+(e.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":e.modelValue},M)}}}),fo={setup(){const e=q([]),o=q([]),a=q(""),n=q([]),l=q([{username:"User",userId:a.value,email:"email@email.com",picture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAACRpJREFUWEetVwlwVdUZ/s5y730v5OXlIZLYLBCWgIphBLcOSqwgYqqITMVlREcdGSxMVUBDndba6Sg6nbbjCNO6ULRUWmRqGceZDu4biKNVNBDDkgSDJDEJCS8vect995zOf84LAm0605Pc997ce8/9v3/7/u8yfMfSWrNLfvWGKEUPLyvJZ4OxbhYbHKNpS1dZUie7utiEk/Z3lZXpov5+XT5pkt6zbp1+fvNmBcbMnm9a7OSTk9e8NLWfRe7woWeGQAUU8gDGNQPTmjFlHqYRQmnHaWEcaboABgaywgCttKYf9KkAneJAh9B4Lwb/mfZVP995vM1jAH6yebPY3hZ/MKHd+zQgmRbQzF62BoAwd3cAwJWfwxNfgm7hjIGb+wCtNVlFQCC1PRQkGELQVU+zZydxvnTHPfekzLNH0FQ+su2hPniryRPCTi6PAKB7hAYCrkF/Dssi6n0GyRUE55CMQTCCkAOgNQKl4CtlvrM5ILSXwI3SYnPPiruvo9QYAGc/srX2AAo/5Zo7FF7ryonJIR+Nt1wh6nbCdfvhCQZXCAg6ODfeUPgVGQ5DZIMA2SBEhn7TOa3MdXIvrvjsL1bd/ZoBcNqa1x5MQv5SWh+gmfoqNCZMDJxJOIzBlUBe3n54rkJECkRciTNKSlETL4QrOPpTGTQf6cWh5CD8rI+07yPj+0gFvgHiE0Ab4fUDK1bcZgCMXvPayxnI2Qy2YM1JZqrO5JfCK7kDVzJE3BB5+W2IOg5mVZ6OW8+cirGxAnDal0toJlTY3duLZ5ub8X5nF9KZNIazGaR8H2kCEYaU5b0DK1bW5iLw6u4s3DMovILZwrCGyXMHkgs4UsJzOKLRYRQVdOFnddNwWVWVue+rNZI3ZhwJlMaLB1rx+K5dGEgNYTidtiCCACpQQ3cmzilk1OunP/pGq+LeWComKRgEh8kphZ+NCyHhOBbAmacFaDy/HGNjMbATjJ/c0JRr04348MtePLBjO7qTgwbEsJ+F74f+9P4BC6Dm9++0Mx6pkkLClQJSEggLgIwLwVAZF1g0OR/zxhXAYVSQX6OQb+AZGxH63N3Xh1Vvv4XeoSSGM1lksn541mCyyAA4a+0H7VxGqlzHQdzjqCv3UBFzEXclSkcJTCh2UFMQhUeh+R8WpYMK7+3DXXjgvXeRTKeQyfhh3VCq2AA47+nmdiEjVXNqXCybXoLREfcUPTx1NBSxUIXY0PwZNjQ3IZvJhhPBLYD6v7a2zarOq77/wlJITk1nw0tZHBxK4+ChbkyZUAkpxKlb/JY7iZzueuct7O7pDSe4nk3Bj7d07H9qXmnNmKhHHG8rm9hLKby+swX72jpwy8JLEPEkOONQOcqlLlHEbrl2pfNUyIbxcudGaoAGg+DkGMOuvh7ct31HWAFmAdz7emfrmvqysXR5V8tBtB/qRWyUZ2i06bN2eF7U9PKRgRSW3PAjbHzhTVC9zJlZhw3/eBNVpxejpzeBiOtgzkVnIzE0iH3tPSgpKsBQchjJVAaJpI/FCy7CuIrRCJXGXdu3B5HhYdsFD7/X2d54QVkVlSvR6MN//CfCMMS9Sxfgd0++hHgsghsXzMTHu9vwSUsHDnYmMHVSBSZWl+L1nc1YeevlWLfxFVzbcCG2vfVvBAqIxfKwr60HMY9h0fyZOJpIoWnfYVw77zyTnCf2fBp0pg7GDYDlD2088NjqG8fZtGns+KgFicFhzJ5Zh7Ubt6EgloeBxCCOHEngzsXz8NTfX0HZacWYO7MOL2z7EEuuuxR/2foOGuqn4c33m/B551EUFuagvQ0AACAASURBVOYjncogyGZA3Ho0MYw7bpiNyrISYyVz4F/B/o7WIko2O3d+476X1jeOH10UPzbRcmxshrqBRTOKhpSpD1uglFJt59kJy24JwRjH2me24dZFVD+OqR8zsKhGmjYE/X3pHA/MvXv/4oWzalbefqXZ9P9ZNBsY2g51oaKs1EzMkd4K031gO38bHkG1rYHJly7b73nRmuf+sAxTJlbm2vArXv/vAeW00XEbR2hZqyzUrifBe/cG3SVT4ySc2PiLl+xnwqmZXFOGTY/dg1F5EVML5ME3hfj7AFkJaDXZyFI6RDh4EKxlK8SRFgSaBX1hedxEpfKCW/YK4Ux0HAdXXXoO1qy+2fSs5fsTH/T9xhlCHUBnjgL9rdCDXwDpXiDRCTZ0GFqF0EohZMzfoyoKDYCyc67bw6U3xXVduK6HpTfOwfKbGyBy3H+8J98KgJ6kFcKBVui2VyH6dlNPWwWkqOysYaVJp5I0E36CV1kAxVOv+VhIt85xXHheBPS9bPFl+OlNDac2ExhwdHAIW/72PBb/4ANAh6ZLKAP2lwJXZDg81kFK8yApx9kUFEyZ/y4X8oeUAgvCM98L556L+5cvQl7EzTl+cssZExrY1dyKxkeeQznvwuPz09AiJ2iZ0eWmnmRIMo/0tG1dxWT6XTffRiB/8pVbNOMLadg4ktJgD1JB46vLseL2Blx8wVQ4wjGye2R19fZjw+aXsenFHQhC4KraFBrr04DkpF7NoSHAdACpfMsjOd4IITviV6+vtgBqG+4PIX5DQ8iAoEhIB47rQkoJwQUqyksw7YxqlBTFkclk0drRjY+a2pAl3qW8QmD1rATmT1FgLkkqATAyDnCEEAgMD9iuoliIrUUL/ny1FaW1l9cOwWliZpiRGhKQjjQeGwB0CGmcIqLSStsXEFNQVsBGpcbz1ycwJi4hHA4u7Fi3tGZVNhm38WPIInrT6AV/2ngsqQWT5j3mQy63/c+NJDN63xwSUgpz3nJDTmqNqGbp4IpJKfzikpQpYilJzhGunMLNGc29qyFEZGdr5fSLZsxY4h8DMH36Hc7e5KF1gWa3GQoyipiBG21IHgnL5cfVIV2TwkU8j+HpBUdRU+qYMU3ta6NFw4JbQmK2KwK42wd46TU18x/qtrE4cbHC2ob6DPTtgDgfQDkYPHo5JTD2fcF+UIQc6SHqOWicldBXTGaIRiIGgAm/pUMFJrIa6GFgnypEtxzoPmvTjCVL/BGz3ylt6+vr5SeHonkukp7OizKtRl5PAe64Kh/5KC6Oql9f7+gxIqZQCPpH4MVVPAr1eZIplB/2p894IrAz9OvrP3SdBilkaLw1AAAAAElFTkSuQmCC",token:"password"}]),u=q(null),r=q(""),f=q(null),g=q(50),C=q(!1),d=q({lat:52.377956,lng:4.89707}),x=[{label:"All Ratings",value:null},{label:"Very Dissatisfied",value:1},{label:"Dissatisfied",value:2},{label:"Satisfied",value:3},{label:"Very Satisfied",value:4}],A=s(()=>o.value.filter(y=>f.value!==null&&y.stress_level!==f.value.value?!1:g.value>0&&d.value.lat&&d.value.lng?v(d.value.lat,d.value.lng,y.latitude,y.longitude)<=g.value:C.value&&Number(y.userId)!==Number(a.value)?(console.log(y.userId,a.value),!1):(console.log(y.userId,a.value),!0)));function v(y,B,I,O){const Y=S(I-y),K=S(O-B),te=Math.sin(Y/2)*Math.sin(Y/2)+Math.cos(S(y))*Math.cos(S(I))*Math.sin(K/2)*Math.sin(K/2);return 6371*(2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te)))}function S(y){return y*(Math.PI/180)}const U=async()=>{try{var y=await fetch("https://vibemapbe.com/location/location/locations/");if(!y.ok)throw new Error(`HTTP error! Status: ${y.status}`);const I=(await y.json()).map(O=>({userId:O.userId,id:O.id,stress_level:Math.round(O.stress_level),comment:O.comment,latitude:Number(O.latitude),longitude:Number(O.longitude)}));o.value=I,console.log(o.value)}catch(B){console.error("Error fetching data:",B)}};At(async()=>{r.value=localStorage.getItem("usertoken"),a.value=Number(localStorage.getItem("loggedInId")),await z(r.value),await U(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(y=>{d.value={lat:y.coords.latitude,lng:y.coords.longitude}},y=>{console.error("Error getting current location:",y)}),setTimeout(()=>{P()},1)});const z=async y=>{console.log(y);try{const B=await fetch("https://vibemapbe.com/auth/auth/me",{method:"GET",headers:{Authorization:`Bearer ${y}`}});if(!B.ok)throw new Error(`HTTP error! Status: ${B.status}`);const I=await B.json();l.value[0]={...l.value[0],username:I.email,email:I.email,userId:I.id,token:y}}catch(B){u.value=B.message||"Failed to fetch user data"}};function P(){if(window.google&&window.google.maps){N();return}const y=document.createElement("script");y.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY",y.async=!0,y.defer=!0,y.onload=N,document.head.appendChild(y)}function N(){n.value.forEach((y,B)=>{const I=A.value[B],O=new window.google.maps.Map(y,{center:{lat:I.latitude,lng:I.longitude},zoom:14,mapTypeControl:!1,zoomControl:!1,cameraControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,gestureHandling:"greedy"});new window.google.maps.Marker({position:{lat:I.latitude,lng:I.longitude},map:O,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:"#2C6E49",fillOpacity:1,strokeWeight:2,strokeColor:"#ffffff"}})})}function M(y){return["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_satisfied"][y-1]||""}function E(y){return["red","orange","green","green-9"][y-1]||""}const R=q();return At(()=>{R.value=localStorage.getItem("isLoggedIn")}),{ratings:e,responses:o,filteredResponses:A,mapElements:n,getRatingIcon:M,getRatingColor:E,isLoggedIn:R,loggedInId:a,ratingFilter:f,distanceFilter:g,currentLocation:d,ratingOptions:x,calculateDistance:v,showOnlyMyRatings:C}}},vo={key:0,class:"text-primary text-center q-pa-md flex flex-center w-100"},mo={class:"filter-controls q-mb-md"},go={class:"rate-card-cont"},ho={class:"rate-details"},bo={class:"rate"},So={class:"rate-reason"},yo={key:0,class:"distance"},po={key:1,class:"text-primary text-center q-pa-md flex flex-center w-100"};function wo(e,o,a,n,l,u){return We(),tt(Kt,null,[n.isLoggedIn?(We(),tt("div",vo,[o[3]||(o[3]=we("div",{class:"text-h6"},"Ratings",-1)),we("div",mo,[he(no,{modelValue:n.ratingFilter,"onUpdate:modelValue":o[0]||(o[0]=r=>n.ratingFilter=r),options:n.ratingOptions,label:"Filter by Rating",dense:"",outlined:"",class:"q-mr-sm col-6",style:{"min-width":"150px"}},null,8,["modelValue","options"]),he(Mn,{modelValue:n.showOnlyMyRatings,"onUpdate:modelValue":o[1]||(o[1]=r=>n.showOnlyMyRatings=r),label:"Show only my ratings",class:"q-mr-sm col-6"},null,8,["modelValue"]),he(fl,{class:"slider-label col-12"},{default:je(()=>[un("Max distance: "+st(n.distanceFilter)+" km",1)]),_:1}),he(co,{modelValue:n.distanceFilter,"onUpdate:modelValue":o[2]||(o[2]=r=>n.distanceFilter=r),modelModifiers:{number:!0},min:0,max:50,label:"Max Distance (km)",dense:"",outlined:"",class:"q-mr-sm",style:{"min-width":"150px"}},null,8,["modelValue"])]),we("div",go,[(We(!0),tt(Kt,null,an(n.filteredResponses,(r,f)=>(We(),rn(Wt,{key:f,class:"myratings-card"},{default:je(()=>[he($t,{class:"myratings-card-inner"},{default:je(()=>[we("div",{class:"map-elem",ref_for:!0,ref:g=>n.mapElements[f]=g},null,512),we("div",ho,[we("div",bo,[we("span",{class:"material-icons",style:sn({color:n.getRatingColor(r.stress_level)})},st(n.getRatingIcon(r.stress_level)),5)]),we("div",So,st(r.comment),1),n.distanceFilter>0?(We(),tt("div",yo," Distance: "+st(n.calculateDistance(n.currentLocation.lat,n.currentLocation.lng,r.latitude,r.longitude).toFixed(2))+" km ",1)):yt("",!0)])]),_:2},1024)]),_:2},1024))),128))])])):yt("",!0),n.isLoggedIn?yt("",!0):(We(),tt("div",po,[he(Wt,null,{default:je(()=>[he($t,null,{default:je(()=>[o[4]||(o[4]=we("div",{class:"text-h7"},"Please sign up or log in to be able to rate your location.",-1)),he(dl,{class:"q-gutter-sm w-100"},{default:je(()=>[he(wt,{label:"Login",color:"primary",class:"col-6",to:"/profile"}),he(wt,{label:"Signup",color:"secondary",outline:"",class:"col-6",to:"./signup"})]),_:1})]),_:1})]),_:1}),he(wt,{class:"q-mt-xl text-primary",unelevated:"",to:"/",label:"Go Home","no-caps":""})]))],64)}const Ho=Vn(fo,[["render",wo]]);export{Ho as default};
