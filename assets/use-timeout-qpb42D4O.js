import{a3 as re,a4 as ne,O as q,R as p,a5 as P,n as le,M as C,S as X,L as W,_ as V,a6 as se,V as J,b as Q,a7 as D,g as Z,w as k,o as ue,d as B,l as h,a8 as ae,p as de}from"./index-BQhAng1p.js";import{b as U,d as ce,e as fe,v as pe}from"./QBtn-Bx9M86NB.js";const Le=[Element,String],ve=[null,document,document.body,document.scrollingElement,document.documentElement];function qe(t,e){let r=ce(e);if(r===void 0){if(t==null)return window;r=t.closest(".scroll,.scroll-y,.overflow-auto")}return ve.includes(r)?window:r}function ee(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function te(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}function oe(t,e,r=0){const l=arguments[3]===void 0?performance.now():arguments[3],o=ee(t);if(r<=0){o!==e&&Y(t,e);return}requestAnimationFrame(i=>{const n=i-l,s=o+(e-o)/Math.max(n,r)*n;Y(t,s),s!==e&&oe(t,e,r-n,i)})}function ie(t,e,r=0){const l=arguments[3]===void 0?performance.now():arguments[3],o=te(t);if(r<=0){o!==e&&z(t,e);return}requestAnimationFrame(i=>{const n=i-l,s=o+(e-o)/Math.max(n,r)*n;z(t,s),s!==e&&ie(t,e,r-n,i)})}function Y(t,e){if(t===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e);return}t.scrollTop=e}function z(t,e){if(t===window){window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}t.scrollLeft=e}function Pe(t,e,r){if(r){oe(t,e,r);return}Y(t,e)}function Ve(t,e,r){if(r){ie(t,e,r);return}z(t,e)}let S;function He(){if(S!==void 0)return S;const t=document.createElement("p"),e=document.createElement("div");U(t,{width:"100%",height:"200px"}),U(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const r=t.offsetWidth;e.style.overflow="scroll";let l=t.offsetWidth;return r===l&&(l=e.clientWidth),e.remove(),S=r-l,S}function me(t,e=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}const O={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},we=Object.keys(O);O.all=!0;function N(t){const e={};for(const r of we)t[r]===!0&&(e[r]=!0);return Object.keys(e).length===0?O:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const he=["INPUT","TEXTAREA"];function R(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&he.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function ye(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),re.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function H(t,e,r){const l=X(t);let o,i=l.left-e.event.x,n=l.top-e.event.y,s=Math.abs(i),a=Math.abs(n);const u=e.direction;u.horizontal===!0&&u.vertical!==!0?o=i<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?o=n<0?"up":"down":u.up===!0&&n<0?(o="up",s>a&&(u.left===!0&&i<0?o="left":u.right===!0&&i>0&&(o="right"))):u.down===!0&&n>0?(o="down",s>a&&(u.left===!0&&i<0?o="left":u.right===!0&&i>0&&(o="right"))):u.left===!0&&i<0?(o="left",s<a&&(u.up===!0&&n<0?o="up":u.down===!0&&n>0&&(o="down"))):u.right===!0&&i>0&&(o="right",s<a&&(u.up===!0&&n<0?o="up":u.down===!0&&n>0&&(o="down")));let c=!1;if(o===void 0&&r===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};o=e.event.lastDir,c=!0,o==="left"||o==="right"?(l.left-=i,s=0,i=0):(l.top-=n,a=0,n=0)}return{synthetic:c,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:l,direction:o,isFirst:e.event.isFirst,isFinal:r===!0,duration:Date.now()-e.event.time,distance:{x:s,y:a},offset:{x:i,y:n},delta:{x:l.left-e.event.lastX,y:l.top-e.event.lastY}}}}let ge=0;const Me=ne({name:"touch-pan",beforeMount(t,{value:e,modifiers:r}){if(r.mouse!==!0&&p.has.touch!==!0)return;function l(i,n){r.mouse===!0&&n===!0?J(i):(r.stop===!0&&V(i),r.prevent===!0&&W(i))}const o={uid:"qvtp_"+ge++,handler:e,modifiers:r,direction:N(r),noop:le,mouseStart(i){R(i,o)&&se(i)&&(C(o,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),o.start(i,!0))},touchStart(i){if(R(i,o)){const n=i.target;C(o,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","passiveCapture"],[n,"touchend","end","passiveCapture"]]),o.start(i)}},start(i,n){if(p.is.firefox===!0&&P(t,!0),o.lastEvt=i,n===!0||r.stop===!0){if(o.direction.all!==!0&&(n!==!0||o.modifiers.mouseAllDir!==!0&&o.modifiers.mousealldir!==!0)){const u=i.type.indexOf("mouse")!==-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&W(u),i.cancelBubble===!0&&V(u),Object.assign(u,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[o.uid]:i.qClonedBy.concat(o.uid)}),o.initialEvent={target:i.target,event:u}}V(i)}const{left:s,top:a}=X(i);o.event={x:s,y:a,time:Date.now(),mouse:n===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:a}},move(i){if(o.event===void 0)return;const n=X(i),s=n.left-o.event.x,a=n.top-o.event.y;if(s===0&&a===0)return;o.lastEvt=i;const u=o.event.mouse===!0,c=()=>{l(i,u);let f;r.preserveCursor!==!0&&r.preservecursor!==!0&&(f=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ye(),o.styleCleanup=m=>{if(o.styleCleanup=void 0,f!==void 0&&(document.documentElement.style.cursor=f),document.body.classList.remove("non-selectable"),u===!0){const b=()=>{document.body.classList.remove("no-pointer-events--children")};m!==void 0?setTimeout(()=>{b(),m()},50):b()}else m!==void 0&&m()}};if(o.event.detected===!0){o.event.isFirst!==!0&&l(i,o.event.mouse);const{payload:f,synthetic:m}=H(i,o,!1);f!==void 0&&(o.handler(f)===!1?o.end(i):(o.styleCleanup===void 0&&o.event.isFirst===!0&&c(),o.event.lastX=f.position.left,o.event.lastY=f.position.top,o.event.lastDir=m===!0?void 0:f.direction,o.event.isFirst=!1));return}if(o.direction.all===!0||u===!0&&(o.modifiers.mouseAllDir===!0||o.modifiers.mousealldir===!0)){c(),o.event.detected=!0,o.move(i);return}const w=Math.abs(s),v=Math.abs(a);w!==v&&(o.direction.horizontal===!0&&w>v||o.direction.vertical===!0&&w<v||o.direction.up===!0&&w<v&&a<0||o.direction.down===!0&&w<v&&a>0||o.direction.left===!0&&w>v&&s<0||o.direction.right===!0&&w>v&&s>0?(o.event.detected=!0,o.move(i)):o.end(i,!0))},end(i,n){if(o.event!==void 0){if(q(o,"temp"),p.is.firefox===!0&&P(t,!1),n===!0)o.styleCleanup!==void 0&&o.styleCleanup(),o.event.detected!==!0&&o.initialEvent!==void 0&&o.initialEvent.target.dispatchEvent(o.initialEvent.event);else if(o.event.detected===!0){o.event.isFirst===!0&&o.handler(H(i===void 0?o.lastEvt:i,o).payload);const{payload:s}=H(i===void 0?o.lastEvt:i,o,!0),a=()=>{o.handler(s)};o.styleCleanup!==void 0?o.styleCleanup(a):a()}o.event=void 0,o.initialEvent=void 0,o.lastEvt=void 0}}};if(t.__qtouchpan=o,r.mouse===!0){const i=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";C(o,"main",[[t,"mousedown","mouseStart",`passive${i}`]])}p.has.touch===!0&&C(o,"main",[[t,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const r=t.__qtouchpan;r!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&r.end(),r.handler=e.value),r.direction=N(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),q(e,"main"),q(e,"temp"),p.is.firefox===!0&&P(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchpan)}});function xe(t,e,r){let l;function o(){l!==void 0&&(D.remove(l),l=void 0)}return Q(()=>{t.value===!0&&o()}),{removeFromHistory:o,addToHistory(){l={condition:()=>r.value===!0,handler:e},D.add(l)}}}const Ae={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Xe=["beforeShow","show","beforeHide","hide"];function Ye({showing:t,canShow:e,hideOnRouteChange:r,handleShow:l,handleHide:o,processOnMount:i}){const n=Z(),{props:s,emit:a,proxy:u}=n;let c;function w(d){t.value===!0?m(d):v(d)}function v(d){if(s.disable===!0||d!==void 0&&d.qAnchorHandled===!0||e!==void 0&&e(d)!==!0)return;const g=s["onUpdate:modelValue"]!==void 0;g===!0&&(a("update:modelValue",!0),c=d,B(()=>{c===d&&(c=void 0)})),(s.modelValue===null||g===!1)&&f(d)}function f(d){t.value!==!0&&(t.value=!0,a("beforeShow",d),l!==void 0?l(d):a("show",d))}function m(d){if(s.disable===!0)return;const g=s["onUpdate:modelValue"]!==void 0;g===!0&&(a("update:modelValue",!1),c=d,B(()=>{c===d&&(c=void 0)})),(s.modelValue===null||g===!1)&&b(d)}function b(d){t.value!==!1&&(t.value=!1,a("beforeHide",d),o!==void 0?o(d):a("hide",d))}function _(d){s.disable===!0&&d===!0?s["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):d===!0!==t.value&&(d===!0?f:b)(c)}k(()=>s.modelValue,_),r!==void 0&&fe(n)===!0&&k(()=>u.$route.fullPath,()=>{r.value===!0&&t.value===!0&&m()}),i===!0&&ue(()=>{_(s.modelValue)});const F={show:v,hide:m,toggle:w};return Object.assign(u,F),F}let E=0,M,x,T,A=!1,$,j,I,y=null;function be(t){Ee(t)&&J(t)}function Ee(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=ae(t),r=t.shiftKey&&!t.deltaX,l=!r&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),o=r||l?t.deltaY:t.deltaX;for(let i=0;i<e.length;i++){const n=e[i];if(me(n,l))return l?o<0&&n.scrollTop===0?!0:o>0&&n.scrollTop+n.clientHeight===n.scrollHeight:o<0&&n.scrollLeft===0?!0:o>0&&n.scrollLeft+n.clientWidth===n.scrollWidth}return!0}function K(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function L(t){A!==!0&&(A=!0,requestAnimationFrame(()=>{A=!1;const{height:e}=t.target,{clientHeight:r,scrollTop:l}=document.scrollingElement;(T===void 0||e!==window.innerHeight)&&(T=r-e,document.scrollingElement.scrollTop=l),l>T&&(document.scrollingElement.scrollTop-=Math.ceil((l-T)/8))}))}function G(t){const e=document.body,r=window.visualViewport!==void 0;if(t==="add"){const{overflowY:l,overflowX:o}=window.getComputedStyle(e);M=te(window),x=ee(window),$=e.style.left,j=e.style.top,I=window.location.href,e.style.left=`-${M}px`,e.style.top=`-${x}px`,o!=="hidden"&&(o==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),l!=="hidden"&&(l==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,p.is.ios===!0&&(r===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",L,h.passiveCapture),window.visualViewport.addEventListener("scroll",L,h.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",K,h.passiveCapture))}p.is.desktop===!0&&p.is.mac===!0&&window[`${t}EventListener`]("wheel",be,h.notPassive),t==="remove"&&(p.is.ios===!0&&(r===!0?(window.visualViewport.removeEventListener("resize",L,h.passiveCapture),window.visualViewport.removeEventListener("scroll",L,h.passiveCapture)):window.removeEventListener("scroll",K,h.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=$,e.style.top=j,window.location.href===I&&window.scrollTo(M,x),T=void 0)}function Te(t){let e="add";if(t===!0){if(E++,y!==null){clearTimeout(y),y=null;return}if(E>1)return}else{if(E===0||(E--,E>0))return;if(e="remove",p.is.ios===!0&&p.is.nativeMobile===!0){y!==null&&clearTimeout(y),y=setTimeout(()=>{G(e),y=null},100);return}}G(e)}function ze(){let t;return{preventBodyScroll(e){e!==t&&(t!==void 0||e===!0)&&(t=e,Te(e))}}}function Oe(){let t=null;const e=Z();function r(){t!==null&&(clearTimeout(t),t=null)}return de(r),Q(r),{removeTimeout:r,registerTimeout(l,o){r(),pe(e)===!1&&(t=setTimeout(()=>{t=null,l()},o))}}}export{Me as T,ee as a,te as b,Pe as c,Ve as d,Ae as e,Oe as f,qe as g,Ye as h,xe as i,ze as j,He as k,ye as l,Le as s,Xe as u};
